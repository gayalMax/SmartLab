(this["webpackJsonpopen-inventory-web"]=this["webpackJsonpopen-inventory-web"]||[]).push([[0],{556:function(e,t,a){e.exports=a(857)},561:function(e,t,a){},814:function(e,t){},857:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(27),i=a.n(c),l=a(511),o=(a(561),a(13)),s=a(887),u=a(51),m=a(131),d=a(104),E=a(136),p=a(5),f=function(){return{center:{textAlign:"center"},image:{maxWidth:"100%"}}};var g=Object(p.a)(f)((function(e){var t=e.classes;return r.a.createElement("div",{className:t.center},r.a.createElement("img",{className:t.image,src:"".concat("/web-frontend","/images/404.png"),alt:"404"}))})),S=a(16),b=a(10),I=a(153),v=a(888),N=a(452),h=a(880),_=a(453),A=a(359),y=a(356),T=a(509),R=a(904),O=function(){return{root:{maxWidth:936,margin:"auto",overflow:"hidden"},title:{fontSize:16,fontWeight:"bold"},wrapper:{padding:"16px"}}},M=a(546),C=a(447);function k(e){var t=e.classes,a=e.visible,n=e.children;return r.a.createElement(r.a.Fragment,null,n,r.a.createElement(M.a,{className:t.backdrop,open:a},r.a.createElement(C.a,{color:"inherit"})))}k.defaultProps={visible:!1};var w=Object(p.a)((function(e){return{backdrop:{zIndex:e.zIndex.drawer+1,color:"#fff"}}}))(k),x=a(24),L=a(881),j=a(902),D=function(e){var t=e.error,a=e.success,c=r.a.useState(!1),i=Object(x.a)(c,2),l=i[0],o=i[1],s=r.a.useState(!1),u=Object(x.a)(s,2),m=u[0],d=u[1];Object(n.useEffect)((function(){o(null!==a),d(null!==t)}),[t,a,d,o]);var E=r.a.createElement(A.a,{"aria-label":"close",color:"inherit",size:"small",onClick:function(){o(!1)}},r.a.createElement(b.g,{fontSize:"inherit"})),p=r.a.createElement(A.a,{"aria-label":"close",color:"inherit",size:"small",onClick:function(){d(!1)}},r.a.createElement(b.g,{fontSize:"inherit"}));return r.a.createElement(r.a.Fragment,null,r.a.createElement(h.a,{item:!0},r.a.createElement(L.a,{in:m},r.a.createElement(y.a,{pb:2},r.a.createElement(j.a,{severity:"error",action:p},t)))),r.a.createElement(h.a,{item:!0},r.a.createElement(L.a,{in:l},r.a.createElement(y.a,{pb:2},r.a.createElement(j.a,{action:E},a)))))};D.defaultProps={error:null,success:null};var U=D,q=a(513),G=a.n(q),B=a(519),F=a.n(B),P=a(529),V=a.n(P),Y=a(520),W=a.n(Y),z=a(527),H=a.n(z),Q=a(367),K=a.n(Q),J=a(366),X=a.n(J),Z=a(521),$=a.n(Z),ee=a(522),te=a.n(ee),ae=a(524),ne=a.n(ae),re=a(525),ce=a.n(re),ie=a(526),le=a.n(ie),oe=a(530),se=a.n(oe),ue=a(523),me=a.n(ue),de=a(528),Ee=a.n(de),pe=a(531),fe=a.n(pe),ge={Add:Object(n.forwardRef)((function(e,t){return r.a.createElement(F.a,Object.assign({},e,{ref:t}))})),Check:Object(n.forwardRef)((function(e,t){return r.a.createElement(W.a,Object.assign({},e,{ref:t}))})),Clear:Object(n.forwardRef)((function(e,t){return r.a.createElement(X.a,Object.assign({},e,{ref:t}))})),Delete:Object(n.forwardRef)((function(e,t){return r.a.createElement($.a,Object.assign({},e,{ref:t}))})),DetailPanel:Object(n.forwardRef)((function(e,t){return r.a.createElement(K.a,Object.assign({},e,{ref:t}))})),Edit:Object(n.forwardRef)((function(e,t){return r.a.createElement(te.a,Object.assign({},e,{ref:t}))})),Export:Object(n.forwardRef)((function(e,t){return r.a.createElement(me.a,Object.assign({},e,{ref:t}))})),Filter:Object(n.forwardRef)((function(e,t){return r.a.createElement(ne.a,Object.assign({},e,{ref:t}))})),FirstPage:Object(n.forwardRef)((function(e,t){return r.a.createElement(ce.a,Object.assign({},e,{ref:t}))})),LastPage:Object(n.forwardRef)((function(e,t){return r.a.createElement(le.a,Object.assign({},e,{ref:t}))})),NextPage:Object(n.forwardRef)((function(e,t){return r.a.createElement(K.a,Object.assign({},e,{ref:t}))})),PreviousPage:Object(n.forwardRef)((function(e,t){return r.a.createElement(H.a,Object.assign({},e,{ref:t}))})),ResetSearch:Object(n.forwardRef)((function(e,t){return r.a.createElement(X.a,Object.assign({},e,{ref:t}))})),Search:Object(n.forwardRef)((function(e,t){return r.a.createElement(Ee.a,Object.assign({},e,{ref:t}))})),SortArrow:Object(n.forwardRef)((function(e,t){return r.a.createElement(V.a,Object.assign({},e,{ref:t}))})),ThirdStateCheck:Object(n.forwardRef)((function(e,t){return r.a.createElement(se.a,Object.assign({},e,{ref:t}))})),ViewColumn:Object(n.forwardRef)((function(e,t){return r.a.createElement(fe.a,Object.assign({},e,{ref:t}))}))},Se=function(e){var t=e.filtering,a=e.grouping,n=Object(m.a)(e,["filtering","grouping"]);return r.a.createElement("div",null,r.a.createElement(G.a,Object.assign({components:{Container:function(e){return r.a.createElement(I.a,Object.assign({},e,{elevation:0}))}},icons:ge,title:"",options:{exportButton:!0,search:!0,filtering:t,grouping:a}},n)))};Se.defaultProps={filtering:!1,grouping:!1};var be=Se;function Ie(e){return e&&0!==e.length?e.charAt(0).toUpperCase()+e.slice(1):e}function ve(e){return e.split("_").map((function(e){return Ie(e.toLowerCase())})).join(" ")}function Ne(e){var t=e.classes,a=e.users,n=e.error,c=e.loading,i=e.onRefresh;return r.a.createElement(w,{visible:c},r.a.createElement(I.a,{className:t.root},r.a.createElement(v.a,{position:"static",color:"inherit",elevation:0},r.a.createElement(N.a,null,r.a.createElement(h.a,{container:!0,spacing:2,alignItems:"center"},r.a.createElement(h.a,{item:!0,xs:!0},r.a.createElement("p",{className:t.title},"View Users"))),r.a.createElement(h.a,{item:!0},r.a.createElement(_.a,{title:"Refresh Tokens List"},r.a.createElement(A.a,{onClick:i},r.a.createElement(b.B,null)))))),r.a.createElement(h.a,{container:!0,direction:"column",alignItems:"stretch",className:t.wrapper},r.a.createElement(U,{success:null,error:n}),r.a.createElement(h.a,{item:!0},r.a.createElement(y.a,{px:2,pb:2},"Below the list of users in the system are given. Invite Users to add users to the syetem.")),r.a.createElement(h.a,{item:!0},r.a.createElement(be,{columns:[{title:"Name",field:"name"},{title:"Email",field:"email"},{title:"Role",field:"role",type:"numeric",sorting:!1,render:function(e){return r.a.createElement(T.a,{variant:"outlined",color:"primary",avatar:r.a.createElement(R.a,null,e.role[0]),label:e.role})}}],data:a.map((function(e){var t=e.id,a=e.firstName,n=e.lastName,r=e.email,c=e.Role;return{id:t,name:"".concat(a," ").concat(n),email:r,role:Ie(c.name)}})),title:""})))))}Ne.defaultProps={error:null};var he=Object(p.a)(O)(Ne),_e=a(9),Ae=a.n(_e),ye=a(17),Te=a(18),Re=a.n(Te),Oe=a(6),Me="https://open-inventory-system.herokuapp.com";var Ce=Me,ke=function(e){return{type:"ADMIN_ADMINISTRATION_SYNC_PERMISSIONS_FAILURE",payload:{error:e}}},we=Oe.e().shape({permissions:Oe.a().of(Oe.g()).required()});var xe=function(e){return{type:"ADMIN_ADMINISTRATION_CREATE_ROLES_SUCCESS",payload:{success:e}}},Le=function(e){return{type:"ADMIN_ADMINISTRATION_CREATE_ROLES_FAILURE",payload:{error:e}}};var je=function(e){return{type:"ADMIN_ADMINISTRATION_SYNC_ROLES_FAILURE",payload:{error:e}}},De=Oe.e().shape({roles:Oe.a().of(Oe.e().shape({id:Oe.g().required(),name:Oe.g().required(),RolePermissions:Oe.a().of(Oe.e().shape({name:Oe.g().required()})).required()})).required()});function Ue(e){return function(){var t=Object(ye.a)(Ae.a.mark((function t(a){var n,r,c;return Ae.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=function(e){try{var t=De.validateSync(e.data).roles.map((function(e){return Object(S.a)(Object(S.a)({},e),{},{name:Ie(e.name),id:e.id})}));a({type:"ADMIN_ADMINISTRATION_SYNC_ROLES_SUCCESS",payload:{roles:{roles:t}.roles}})}catch(n){a(je("Server connection failed. Please check your connection."))}},n=function(e){var t;e&&(t=e.data.message),t||(t="Server connection failed"),a(je(t))},a({type:"ADMIN_ADMINISTRATION_SYNC_ROLES_BEGIN"}),t.prev=3,t.next=6,Re.a.get("".concat(Ce).concat("/api/roles/list"),{headers:{token:e}});case 6:c=t.sent,r(c),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(3),n(t.t0.response);case 13:case"end":return t.stop()}}),t,null,[[3,10]])})));return function(e){return t.apply(this,arguments)}}()}var qe=function(e){return{type:"ADMIN_ADMINISTRATION_DELETE_ROLE_SUCCESS",payload:{success:e}}},Ge=function(e){return{type:"ADMIN_ADMINISTRATION_DELETE_ROLE_FAILURE",payload:{error:e}}};var Be=function(e){return{type:"ADMIN_ADMINISTRATION_SYNC_USERS_FAILURE",payload:{error:e}}},Fe=Oe.e().shape({users:Oe.a().of(Oe.e().shape({id:Oe.g().required(),firstName:Oe.g().required(),lastName:Oe.g().required(),email:Oe.g().email().required(),roleId:Oe.g().required(),Role:Oe.e().shape({name:Oe.g().required()}).required()})).required()});function Pe(e){return function(){var t=Object(ye.a)(Ae.a.mark((function t(a){var n,r,c;return Ae.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=function(e){try{var t=Fe.validateSync(e.data).users;a({type:"ADMIN_ADMINISTRATION_SYNC_USERS_SUCCESS",payload:{users:{users:t}.users}})}catch(n){a(Be("Server connection failed. Please check your connection."))}},n=function(e){var t;e&&(t=e.data.message),t||(t="Server connection failed"),a(Be(t))},a({type:"ADMIN_ADMINISTRATION_SYNC_USERS_BEGIN"}),t.prev=3,t.next=6,Re.a.get("".concat(Ce).concat("/api/users/list"),{headers:{token:e}});case 6:c=t.sent,r(c),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(3),n(t.t0.response);case 13:case"end":return t.stop()}}),t,null,[[3,10]])})));return function(e){return t.apply(this,arguments)}}()}var Ve=function(e){return{type:"ADMIN_ADMINISTRATION_CREATE_SUPERVISOR_SUCCESS",payload:{success:e}}},Ye=function(e){return{type:"ADMIN_ADMINISTRATION_CREATE_SUPERVISOR_FAILURE",payload:{error:e}}};var We=function(e){return{type:"ADMIN_ADMINISTRATION_SYNC_SUPERVISORS_FAILURE",payload:{error:e}}},ze=Oe.e().shape({supervisors:Oe.a().of(Oe.e().shape({id:Oe.g().required(),firstName:Oe.g().required(),lastName:Oe.g().required(),email:Oe.g().email().required()}))});function He(e){return function(){var t=Object(ye.a)(Ae.a.mark((function t(a){var n,r,c;return Ae.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=function(e){try{var t=ze.validateSync(e.data).supervisors;a({type:"ADMIN_ADMINISTRATION_SYNC_SUPERVISORS_SUCCESS",payload:{supervisors:{supervisors:t}.supervisors}})}catch(n){a(We("Server connection failed. Please check your connection."))}},n=function(e){var t;e&&(t=e.data.message),t||(t="Server connection failed"),a(We(t))},a({type:"ADMIN_ADMINISTRATION_SYNC_SUPERVISORS_BEGIN"}),t.prev=3,t.next=6,Re.a.get("".concat(Ce).concat("/api/supervisors"),{headers:{token:e}});case 6:c=t.sent,r(c),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(3),n(t.t0.response);case 13:case"end":return t.stop()}}),t,null,[[3,10]])})));return function(e){return t.apply(this,arguments)}}()}var Qe=function(e){return{type:"ADMIN_ADMINISTRATION_DELETE_SUPERVISOR_SUCCESS",payload:{success:e}}},Ke=function(e){return{type:"ADMIN_ADMINISTRATION_DELETE_SUPERVISOR_FAILURE",payload:{error:e}}};var Je=function(){var e=Object(o.c)(),t=Object(o.d)((function(e){return Object(S.a)(Object(S.a)({},e.adminAdministration),{},{token:e.auth.token})})),a=t.users,c=t.usersSyncLoading,i=t.usersSyncSuccess,l=t.usersSyncError,s=t.token;return Object(n.useEffect)((function(){c||i||l||e(Pe(s))}),[e,s,c,i,l]),r.a.createElement(he,{loading:c,users:a,error:l,onRefresh:function(){e(Pe(s))}})},Xe=function(){return{center:{textAlign:"center"},image:{maxWidth:"100%"}}};var Ze=Object(p.a)(Xe)((function(e){var t=e.classes;return r.a.createElement("div",{className:t.center},r.a.createElement(h.a,{container:!0,direction:"column",alignContent:"center"},r.a.createElement(h.a,{item:!0},r.a.createElement("img",{className:t.image,src:"".concat("/web-frontend","/images/full_logo.png"),alt:"Open Inventory Logo"}))))})),$e=function(e){return{type:"ADMIN_REGISTRATION_SYNC_ROLES_FAILURE",payload:{error:e}}},et=Oe.e().shape({roles:Oe.a().of(Oe.e().shape({id:Oe.g().required(),name:Oe.g().required()})).required()});function tt(e){return function(){var t=Object(ye.a)(Ae.a.mark((function t(a){var n,r,c;return Ae.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=function(e){try{var t=et.validateSync(e.data).roles.map((function(e){return{name:Ie(e.name),id:e.id}}));a({type:"ADMIN_REGISTRATION_SYNC_ROLES_SUCCESS",payload:{roles:{roles:t}.roles}})}catch(n){a($e("Server connection failed. Please check your connection."))}},n=function(e){var t;e&&(t=e.data.message),t||(t="Server connection failed"),a($e(t))},a({type:"ADMIN_REGISTRATION_SYNC_ROLES_BEGIN"}),t.prev=3,t.next=6,Re.a.get("".concat(Ce).concat("/api/registrar/roles"),{headers:{token:e}});case 6:c=t.sent,r(c),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(3),n(t.t0.response);case 13:case"end":return t.stop()}}),t,null,[[3,10]])})));return function(e){return t.apply(this,arguments)}}()}var at=function(e){return{type:"ADMIN_REGISTRATION_SYNC_TOKENS_FAILURE",payload:{error:e}}},nt=Oe.e().shape({tokens:Oe.a().of(Oe.e().shape({email:Oe.g().email().required(),valid:Oe.b().required(),updatedAt:Oe.d().required(),Role:Oe.e().shape({id:Oe.g().required(),name:Oe.g().required()})})).required()});function rt(e){return function(){var t=Object(ye.a)(Ae.a.mark((function t(a){var n,r,c;return Ae.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=function(e){try{var t=nt.validateSync(e.data);t.tokens.forEach((function(e){e.Role.name=Ie(e.Role.name)})),a({type:"ADMIN_REGISTRATION_SYNC_TOKENS_SUCCESS",payload:{tokens:t}.tokens})}catch(n){a(at("Server connection failed. Please check your connection."))}},n=function(e){var t;e&&(t=e.data.message),t||(t="Server connection failed"),a(at(t))},a({type:"ADMIN_REGISTRATION_SYNC_TOKENS_BEGIN"}),t.prev=3,t.next=6,Re.a.get("".concat(Ce).concat("/api/registrar/token"),{headers:{token:e}});case 6:c=t.sent,r(c),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(3),n(t.t0.response);case 13:case"end":return t.stop()}}),t,null,[[3,10]])})));return function(e){return t.apply(this,arguments)}}()}var ct=function(e){return{type:"ADMIN_REGISTRATION_INVITE_SUCCESS",payload:{success:e}}},it=function(e){return{type:"ADMIN_REGISTRATION_INVITE_FAILURE",payload:{error:e}}};var lt=function(e){return{type:"ADMIN_REGISTRATION_RETRACTION_SUCCESS",payload:{success:e}}},ot=function(e){return{type:"ADMIN_REGISTRATION_RETRACTION_FAILURE",payload:{error:e}}};var st=a(284),ut=a(285),mt=a(302),dt=a(451),Et=a(468),pt=function(){return{root:{maxWidth:936,margin:"auto",overflow:"hidden"},title:{fontSize:16,fontWeight:"bold"},wrapper:{padding:"16px"}}},ft=a(543),gt=a(360),St=a(507),bt=a(882),It=a(894),vt=a(895),Nt=a(866),ht=a(860),_t=a(899),At=a(471),yt=a(884),Tt=function(e){return{chip:{margin:e.spacing(.25)}}};function Rt(e){var t=e.classes,a=e.emails,n=e.error,c=e.onChange,i=r.a.useState(!1),l=Object(x.a)(i,2),o=l[0],s=l[1],u=function(){return s(!1)};return r.a.createElement(y.a,null,r.a.createElement(h.a,null,r.a.createElement(h.a,{container:!0,direction:"column",alignItems:"stretch"},r.a.createElement(h.a,{item:!0,xs:!0},r.a.createElement(gt.a,{onChange:c,label:"Invitee Email List",multiline:!0,rows:"4",placeholder:"email1@mail.com\r\nemail2@mail.com",variant:"outlined",fullWidth:!0})),r.a.createElement(h.a,{item:!0},n&&r.a.createElement(y.a,{py:1},r.a.createElement(j.a,{severity:"warning"},n))),r.a.createElement(h.a,{item:!0},a.slice(0,5).map((function(e){return r.a.createElement(T.a,{key:e,className:t.chip,label:e,color:"secondary",avatar:r.a.createElement(R.a,null,e[0].toUpperCase())})}))),r.a.createElement(h.a,{item:!0},r.a.createElement(y.a,{pt:1},r.a.createElement(St.a,{xsUp:a.length<=5},r.a.createElement(Et.a,{onClick:function(){return s(!0)},variant:"outlined"},"Only\xa0",5,"\xa0shown - \xa0",a.length,"\xa0distinct email addresses found.")))),r.a.createElement(bt.a,{open:o,onClose:u,scroll:"paper"},r.a.createElement(It.a,null,"Processed Email Addresses"),r.a.createElement(vt.a,null),r.a.createElement(Nt.a,null,a.map((function(e){return r.a.createElement(ht.a,{button:!0,key:e},r.a.createElement(_t.a,null,r.a.createElement(R.a,{className:t.avatar},r.a.createElement(b.v,null))),r.a.createElement(At.a,{primary:e}))}))),r.a.createElement(vt.a,null),r.a.createElement(yt.a,null,r.a.createElement(Et.a,{onClick:u,color:"primary"},"Close"))))))}Rt.defaultProps={error:null};var Ot=Object(p.a)(Tt)(Rt),Mt=/([a-zA-Z0-9._+-]+@[a-zA-Z0-9._-]+\.[a-zA-Z0-9._-]+)/gi;function Ct(e){var t=e.error,a=e.onChange,c=Object(n.useState)([]),i=Object(x.a)(c,2),l=i[0],o=i[1],s=t,u=new Set;l.forEach((function(e){!s&&u.has(e)&&(s="Duplicate email address(es) detected: ".concat(e)),u.add(e)}));return r.a.createElement(Ot,{error:s,emails:Object(ft.a)(u),onChange:function(e){var t=e.target.value.match(Mt);t||(t=[]),a(t),o(t)}})}Ct.defaultProps={error:null};var kt=Ct;function wt(e){var t=e.classes,a=e.roles,n=e.error,c=e.loading,i=e.handleEvent,l=e.success;return r.a.createElement(w,{visible:c},r.a.createElement(I.a,{className:t.root},r.a.createElement(v.a,{position:"static",color:"inherit",elevation:0},r.a.createElement(N.a,null,r.a.createElement(h.a,{container:!0,spacing:2,alignItems:"center"},r.a.createElement(h.a,{item:!0,xs:!0},r.a.createElement("p",{className:t.title},"Invite Users"))),r.a.createElement(h.a,{item:!0},r.a.createElement(_.a,{title:"Refresh Roles List"},r.a.createElement(A.a,{onClick:i("REFRESH_ROLES")},r.a.createElement(b.B,null)))))),r.a.createElement(h.a,{container:!0,direction:"column",alignItems:"stretch",className:t.wrapper},r.a.createElement(U,{success:l,error:n}),r.a.createElement(kt,{onChange:i("EMAILS_ONCHANGE")}),r.a.createElement(h.a,{item:!0},r.a.createElement("p",null,"Put all the emails into the box above and press\xa0",r.a.createElement("b",null,"Send Invitation Emails"),".\xa0",r.a.createElement("br",null),"You can add only one email to invite one user.",r.a.createElement("br",null),"Users indicated above will be sent invites. Use one email per line for best identification.")),r.a.createElement(h.a,{item:!0},r.a.createElement(y.a,{pb:2,pt:1},r.a.createElement(st.a,{variant:"outlined",className:t.formControl,fullWidth:!0},r.a.createElement(ut.a,{id:"role-select-label"},"Role to be given"),r.a.createElement(mt.a,{labelId:"role-select-label",label:"Role to be given",defaultValue:"",onChange:i("ROLE_ONCHANGE")},a.map((function(e){return r.a.createElement(dt.a,{key:e.id,value:e.id},e.name)})))))),r.a.createElement(h.a,{item:!0},r.a.createElement(y.a,{py:1,textAlign:"right"},r.a.createElement(Et.a,{onClick:i("FORM_SUBMIT"),variant:"contained",color:"primary"},"Send Invitation Emails"))))))}wt.defaultProps={error:null,success:null};var xt=Object(p.a)(pt)(wt);var Lt=function(){var e=Object(o.c)(),t=Object(o.d)((function(e){return Object(S.a)(Object(S.a)({},e.adminRegistration),{},{token:e.auth.token})})),a=t.roles,c=t.rolesSyncLoading,i=t.rolesSyncError,l=t.rolesSyncSuccess,s=t.inviteLoading,u=t.inviteError,m=t.inviteSuccess,d=t.token;Object(n.useEffect)((function(){c||l||i||e(tt(d))}),[e,d,i,l,c]);var E=Object(n.useState)({emails:[],role:null}),p=Object(x.a)(E,2),f=p[0],g=p[1],b=function(){e(tt(d))},I=function(){e(function(e,t,a){return function(){var n=Object(ye.a)(Ae.a.mark((function n(r){var c,i;return Ae.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(i=function(e){r(ct(e))},c=function(e){var t;e&&(t=e.data.message),t||(t="Server connection failed"),r(it(t))},r({type:"ADMIN_REGISTRATION_INVITE_BEGIN"}),t&&0!==t.length){n.next=6;break}return r(it("No email addresses submitted")),n.abrupt("return");case 6:if(a&&0!==a.length){n.next=9;break}return r(it("Role not selected")),n.abrupt("return");case 9:return n.prev=9,n.next=12,Re.a.post("".concat(Ce).concat("/api/registrar/token"),{emails:t,role:a},{headers:{token:e}});case 12:if(200===n.sent.status){n.next=15;break}throw Error("Server responded with an error");case 15:i("Invitations sent for ".concat(t.length," emails.")),n.next=21;break;case 18:n.prev=18,n.t0=n.catch(9),c(n.t0.response);case 21:case"end":return n.stop()}}),n,null,[[9,18]])})));return function(e){return n.apply(this,arguments)}}()}(d,f.emails,f.role))},v=function(e){g(Object(S.a)(Object(S.a)({},f),{},{emails:e}))},N=function(e){g(Object(S.a)(Object(S.a)({},f),{},{role:e.target.value}))};return r.a.createElement(xt,{loading:s||c,roles:a,error:u||i,success:m,handleEvent:function(e){switch(e){case"REFRESH_ROLES":return b;case"FORM_SUBMIT":return I;case"EMAILS_ONCHANGE":return v;case"ROLE_ONCHANGE":return N;default:return function(){}}}})},jt=a(20),Dt=a(30),Ut=function(){return{root:{maxWidth:936,margin:"auto"},wrapper:{padding:20},item:{marginBottom:20},title:{fontSize:16,fontWeight:"bold"}}},qt=a(97),Gt={palette:{window:"#23395B",sourceBg:"#FFFFFF",windowBorder:"#23395B",tabIcon:"#FFFFFF",inactiveTabIcon:"#8E9FBF",menuIcons:"#CCE8FF",link:"#D81E5B",action:"#5333FF",inProgress:"#68CDAA",complete:"#68CDAA",error:"#ff0000",textDark:"#000000",textLight:"#ffffff"},fonts:{default:null,"sans-serif":{url:null,active:!0}}},Bt=function(e){var t=e.variant,a=e.color,c=e.sources,i=e.onSuccess,l=Object(n.useState)(null),o=Object(x.a)(l,2),s=o[0],m=o[1],d=Object(n.useState)(null),E=Object(x.a)(d,2),p=E[0],f=E[1],g=function(e){f(e),i(e)},S=window.cloudinary&&window.cloudinary.createUploadWidget({cloudName:"open-inventory-system",uploadPreset:"public",sources:c,multiple:!1,styles:Gt},(function(e,t){e?(m(e),g(null)):t&&"success"===t.event&&(m(null),g(t.info.public_id))})),I=function(){S.open()};return r.a.createElement(h.a,{container:!0,direction:"column",alignItems:"flex-start"},r.a.createElement(h.a,{item:!0},null!=s?r.a.createElement(Et.a,{startIcon:r.a.createElement(b.I,null),variant:t,color:a,onClick:I},"Upload Photo"):null===p?r.a.createElement(Et.a,{startIcon:r.a.createElement(b.h,null),variant:t,color:a,onClick:I},"Upload Photo"):r.a.createElement(Et.a,{startIcon:r.a.createElement(b.l,null),variant:t,color:a,onClick:function(){return g(null)}},"Remove Photo")),s&&r.a.createElement(h.a,{item:!0},r.a.createElement(qt.a,{color:"secondary"},"Error uploading image")),p&&r.a.createElement(h.a,{item:!0},r.a.createElement(y.a,{pt:1},r.a.createElement(u.Image,{publicId:p,width:"150",style:{borderRadius:8}}))))};Bt.defaultProps={variant:"contained",color:"primary",sources:["local","url","facebook"]};var Ft=Bt;function Pt(e){var t=e.classes,a=e.onSubmit,n=e.validationSchema,c=e.loading,i=e.success,l=e.error;return r.a.createElement(w,{visible:c},r.a.createElement(I.a,{className:t.root},r.a.createElement(v.a,{position:"static",color:"inherit",elevation:0},r.a.createElement(N.a,null,r.a.createElement(h.a,{container:!0,spacing:2,alignItems:"center"},r.a.createElement(h.a,{item:!0,xs:!0},r.a.createElement("p",{className:t.title},"Create Labs"))))),r.a.createElement(h.a,{className:t.wrapper,container:!0,direction:"column",alignItems:"stretch"},r.a.createElement(U,{success:i,error:l}),r.a.createElement(h.a,{item:!0},r.a.createElement(y.a,{px:1,mb:2},"Create a lab with a suitable title and a subtitle. Uploading an image is \xa0",r.a.createElement("b",null,"not required."),"\xa0",r.a.createElement("br",null),r.a.createElement("b",null,"Lab creation action cannot be undone."))),r.a.createElement(jt.d,{initialValues:{title:"",subTitle:"",image:null},validationSchema:n,onSubmit:a},(function(e){var a=e.submitForm,n=e.isSubmitting,c=e.setFieldValue;return r.a.createElement(jt.c,null,r.a.createElement(h.a,{className:t.item,item:!0},r.a.createElement(jt.a,{component:Dt.d,required:!0,label:"Enter Lab Title",name:"title",variant:"outlined",type:"text",placeholder:"advance lab",fullWidth:!0})),r.a.createElement(h.a,{className:t.item,item:!0},r.a.createElement(jt.a,{component:Dt.d,required:!0,label:"Enter Lab Subtitle",name:"subTitle",variant:"outlined",type:"text",placeholder:"cse final year",fullWidth:!0})),r.a.createElement(h.a,{item:!0},r.a.createElement(Ft,{variant:"outlined",onSuccess:function(e){return c("image",e)}})),r.a.createElement(h.a,{item:!0},r.a.createElement(y.a,{pt:10,textAlign:"right"},r.a.createElement(Et.a,{variant:"contained",color:"primary",disabled:n,onClick:a},"Create Lab"))))})))))}Pt.defaultProps={error:null,success:null};var Vt=Object(p.a)(Ut)(Pt),Yt=function(e){return{type:"ADMIN_ADMINISTRATION_CREATE_LAB_SUCCESS",payload:{success:e}}},Wt=function(e){return{type:"ADMIN_ADMINISTRATION_CREATE_LAB_FAILURE",payload:{error:e}}};var zt=function(e){return{type:"ADMIN_LAB_MANAGEMENT_SYNC_LABS_FAILURE",payload:{error:e}}},Ht=Oe.e().shape({labs:Oe.a().of(Oe.e().shape({id:Oe.g().required(),title:Oe.g().required(),subtitle:Oe.g().required(),image:Oe.g().nullable(),createdAt:Oe.d().required(),updatedAt:Oe.d().required(),Users:Oe.a().of(Oe.e().shape({email:Oe.g().required(),firstName:Oe.g().required(),lastName:Oe.g().required()}))}))});function Qt(e){return function(){var t=Object(ye.a)(Ae.a.mark((function t(a){var n,r,c;return Ae.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=function(e){try{var t=Ht.validateSync(e.data).labs;a({type:"ADMIN_LAB_MANAGEMENT_SYNC_LABS_SUCCESS",payload:{labs:{labs:t}.labs}})}catch(n){a(zt("Server connection failed. Please check your connection."))}},n=function(e){var t;e&&(t=e.data.message),t||(t="Server connection failed"),a(zt(t))},a({type:"ADMIN_LAB_MANAGEMENT_SYNC_LABS_BEGIN"}),t.prev=3,t.next=6,Re.a.get("".concat(Ce).concat("/api/labs/list"),{headers:{token:e}});case 6:c=t.sent,r(c),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(3),n(t.t0.response);case 13:case"end":return t.stop()}}),t,null,[[3,10]])})));return function(e){return t.apply(this,arguments)}}()}var Kt=function(e){return{type:"ADMIN_LAB_MANAGEMENT_ASSIGN_STAFF_SUCCESS",payload:{success:e}}},Jt=function(e){return{type:"ADMIN_LAB_MANAGEMENT_ASSIGN_STAFF_FAILURE",payload:{error:e}}};var Xt=function(e){return{type:"ADMIN_LAB_MANAGEMENT_SYNC_MANAGERS_FAILURE",payload:{error:e}}},Zt=Oe.e().shape({managers:Oe.a().of(Oe.e().shape({id:Oe.g().required(),firstName:Oe.g().required(),lastName:Oe.g().required(),email:Oe.g().required()})).required()});function $t(e){return function(){var t=Object(ye.a)(Ae.a.mark((function t(a){var n,r,c;return Ae.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=function(e){try{var t=Zt.validateSync({managers:e.data.inventoryManagers}).managers;a({type:"ADMIN_LAB_MANAGEMENT_SYNC_MANAGERS_SUCCESS",payload:{managers:{managers:t}.managers}})}catch(n){a(Xt("Server connection failed. Please check your connection."))}},n=function(e){var t;e&&(t=e.data.message),t||(t="Server connection failed"),a(Xt(t))},a({type:"ADMIN_LAB_MANAGEMENT_SYNC_MANAGERS_BEGIN"}),t.prev=3,t.next=6,Re.a.get("".concat(Ce).concat("/api/users/list/inventorymanagers"),{headers:{token:e}});case 6:c=t.sent,r(c),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(3),n(t.t0.response);case 13:case"end":return t.stop()}}),t,null,[[3,10]])})));return function(e){return t.apply(this,arguments)}}()}var ea=function(e){return{type:"ADMIN_LAB_MANAGEMENT_UNASSIGN_STAFF_SUCCESS",payload:{success:e}}},ta=function(e){return{type:"ADMIN_LAB_MANAGEMENT_UNASSIGN_STAFF_FAILURE",payload:{error:e}}};var aa=function(){var e=Object(o.c)(),t=Object(o.d)((function(e){return Object(S.a)(Object(S.a)({},e.adminLabManagement),{},{token:e.auth.token})})),a=t.labCreationLoading,n=t.labCreationError,c=t.labCreationSuccess,i=t.token,l=Oe.e().shape({title:Oe.g().required("Required"),subTitle:Oe.g().required("Required"),image:Oe.g().nullable()});return r.a.createElement(Vt,{onSubmit:function(t,a){var n=a.setSubmitting;e(function(e,t,a,n,r){return function(){var c=Object(ye.a)(Ae.a.mark((function c(i){var l,o;return Ae.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return o=function(e){i(Yt(e))},l=function(e){var t;e&&(t=e.data.message),t||(t="Server connection failed"),i(Wt(t))},i({type:"ADMIN_ADMINISTRATION_CREATE_LAB_BEGIN"}),c.prev=3,c.next=6,Re.a.post("".concat(Ce).concat("/api/labs/create"),{title:t,subtitle:a,image:n},{headers:{token:e}});case 6:if(200===c.sent.status){c.next=9;break}throw Error("Server responded with an error");case 9:o("Lab ".concat(t," created successfully!")),r(),c.next=17;break;case 13:c.prev=13,c.t0=c.catch(3),l(c.t0.response),r();case 17:case"end":return c.stop()}}),c,null,[[3,13]])})));return function(e){return c.apply(this,arguments)}}()}(i,t.title,t.subTitle,t.image,(function(){n(!1)})))},validationSchema:l,loading:a,success:c,error:n})},na=a(883),ra=a(893),ca=a(118),ia=a.n(ca),la=function(){return{root:{maxWidth:936,margin:"auto",overflow:"hidden"},title:{fontSize:16,fontWeight:"bold"},wrapper:{padding:"16px"}}};function oa(e){var t=e.classes,a=e.registrationTokens,n=e.error,c=e.loading,i=e.success,l=e.onRefresh,o=e.onRetract,s=r.a.useState(null),u=Object(x.a)(s,2),m=u[0],d=u[1],E=function(){d(null)};return r.a.createElement(w,{visible:c},r.a.createElement(I.a,{className:t.root},r.a.createElement(v.a,{position:"static",color:"inherit",elevation:0},r.a.createElement(N.a,null,r.a.createElement(h.a,{container:!0,spacing:2,alignItems:"center"},r.a.createElement(h.a,{item:!0,xs:!0},r.a.createElement("p",{className:t.title},"Retract Invitations"))),r.a.createElement(h.a,{item:!0},r.a.createElement(_.a,{title:"Refresh Tokens List"},r.a.createElement(A.a,{onClick:l},r.a.createElement(b.B,null)))))),r.a.createElement(h.a,{container:!0,direction:"column",alignItems:"stretch",className:t.wrapper},r.a.createElement(U,{success:i,error:n}),r.a.createElement(h.a,{item:!0},r.a.createElement(y.a,{px:2,pb:2},"Retract Invitations by clicking the button.",r.a.createElement("br",null),"Note that users with accepted invitations\xa0",r.a.createElement("b",null,"cannot be removed."),r.a.createElement("br",null),r.a.createElement("b",null,"Retracting action cannot be undone."))),r.a.createElement(h.a,{item:!0},r.a.createElement(be,{columns:[{title:"Email Address",field:"email"},{title:"Role",field:"Role.name",render:function(e){return r.a.createElement(T.a,{variant:"outlined",color:"primary",avatar:r.a.createElement(R.a,null,e.Role.name[0]),label:e.Role.name})}},{title:"Last Updated",field:"updatedAt",searchable:!1,render:function(e){return r.a.createElement(_.a,{title:e.updatedAt.toString()},r.a.createElement("i",null,ia()(e.updatedAt).fromNow()))}},{title:"",type:"numeric",sorting:!1,searchable:!1,render:function(e){return e.valid?r.a.createElement(Et.a,{color:"secondary",variant:"contained",onClick:(t=e.email,function(){d(t)}),startIcon:r.a.createElement(b.l,null)},"Retract"):r.a.createElement(Et.a,{variant:"text",disabled:!0},"Invitation Accepted");var t}}],data:a.map((function(e){return{email:e.email,Role:e.Role,updatedAt:e.updatedAt,valid:e.valid}})),title:""})),r.a.createElement(h.a,{item:!0},"*Only the latest invitations are listed above."))),r.a.createElement(bt.a,{open:null!==m,onClose:E,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},r.a.createElement(It.a,{id:"alert-dialog-title"},"Retract Invitation?"),r.a.createElement(na.a,null,r.a.createElement(ra.a,{id:"alert-dialog-description"},"If you retract the invitation, the user won't be able to register. If the user had already recieved the invitation, the token will be invalidated.",r.a.createElement("br",null),"This action cannot be undone.",r.a.createElement("br",null),r.a.createElement("br",null),"Email Address:\xa0",r.a.createElement("b",null,m))),r.a.createElement(yt.a,null,r.a.createElement(Et.a,{onClick:function(){null!==m&&o(m),E()},color:"primary",autoFocus:!0},"Yes"),r.a.createElement(Et.a,{onClick:E,color:"primary"},"No"))))}oa.defaultProps={error:null,success:null};var sa=Object(p.a)(la)(oa);var ua=function(){var e=Object(o.c)(),t=Object(o.d)((function(e){return Object(S.a)(Object(S.a)({},e.adminRegistration),{},{token:e.auth.token})})),a=t.tokens,c=t.token,i=t.tokenSyncLoading,l=t.tokenSyncError,s=t.tokenSyncSuccess,u=t.retractLoading,m=t.retractError,d=t.retractSuccess,E=a;return Object(n.useEffect)((function(){i||s||l||e(rt(c))}),[e,c,i,s,l]),r.a.createElement(sa,{loading:i||u,registrationTokens:E,error:m||l,success:d,onRefresh:function(){e(rt(c))},onRetract:function(t){e(function(e,t){return function(){var a=Object(ye.a)(Ae.a.mark((function a(n){var r,c;return Ae.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(c=function(t){n(lt(t)),n(rt(e))},r=function(e){var t;e&&(t=e.data.message),t||(t="Server connection failed"),n(ot(t))},n({type:"ADMIN_REGISTRATION_RETRACTION_BEGIN"}),t){a.next=6;break}return n(ot("No email addresses submitted")),a.abrupt("return");case 6:return a.prev=6,a.next=9,Re.a.delete("".concat(Ce).concat("/api/registrar/token"),{data:{email:t},headers:{token:e}});case 9:if(200===a.sent.status){a.next=12;break}throw Error("Server responded with an error");case 12:c("Invitation retracted from '".concat(t,".'")),a.next=18;break;case 15:a.prev=15,a.t0=a.catch(6),r(a.t0.response);case 18:case"end":return a.stop()}}),a,null,[[6,15]])})));return function(e){return a.apply(this,arguments)}}()}(c,t))}})},ma=a(868),da=a(871),Ea=a(361),pa=a(549),fa=function(e){return{root:{maxWidth:936,margin:"auto",overflow:"hidden"},margin:{marginBottom:e.spacing(1),marginTop:e.spacing(1),marginLeft:e.spacing(1),paddingRight:e.spacing(1)},title:{fontSize:16,fontWeight:"bold"},wrapper:{padding:"16px"}}};function ga(e){var t=e.classes,a=e.error,n=e.loading,c=e.success,i=e.permissions,l=e.validationSchema,o=e.onSubmit,s=i.filter((function(e){return"REQUESTER"!==e}));return r.a.createElement(w,{visible:n},r.a.createElement(I.a,{className:t.root},r.a.createElement(v.a,{position:"static",color:"inherit",elevation:0},r.a.createElement(N.a,null,r.a.createElement(h.a,{container:!0,spacing:2,alignItems:"center"},r.a.createElement(h.a,{item:!0,xs:!0},r.a.createElement("p",{className:t.title},"Create Roles"))))),r.a.createElement(h.a,{container:!0,direction:"column",alignItems:"stretch",className:t.wrapper},r.a.createElement(U,{success:c,error:a}),r.a.createElement(h.a,{item:!0},r.a.createElement(y.a,{px:2,pb:2},"Select the permissions from the given options and give a name. Note that name of the role should be\xa0",r.a.createElement("b",null,"unique."),"\xa0You have to select at least one permission from the given list.",r.a.createElement("br",null),r.a.createElement("b",null,"Role creation action cannot be undone."))),r.a.createElement(h.a,{item:!0},r.a.createElement(jt.d,{initialValues:{name:"",permissions:[]},validationSchema:l,onSubmit:o},(function(e){var a=e.submitForm,n=e.isSubmitting,c=e.errors,i=e.touched;return r.a.createElement(jt.c,null,r.a.createElement(h.a,{container:!0,direction:"column",alignContent:"stretch"},r.a.createElement(h.a,{item:!0},r.a.createElement(jt.a,{className:t.margin,component:Dt.d,required:!0,name:"name",label:"Role Name",variant:"outlined",type:"text",placeholder:"DemoRole",fullWidth:!0})),r.a.createElement(st.a,{error:null!=c.permissions&&null!=i.permissions,component:"fieldset",className:t.margin},r.a.createElement(ma.a,{component:"legend"},"Permissions*"),r.a.createElement(da.a,{"aria-label":"position",row:!0},r.a.createElement(h.a,{item:!0,container:!0,className:t.margin},0===s.length?r.a.createElement(qt.a,null,"Permission fetch failed. Please Reload the page."):"",s.map((function(e){return r.a.createElement(h.a,{item:!0,xs:12,sm:6,md:3,key:e},r.a.createElement(Ea.a,{control:(t="permissions",a=e,r.a.createElement(jt.a,{type:"checkbox",component:Dt.a,required:!0,name:t,value:a,variant:"outlined"})),label:ve(e)}));var t,a})))),c.permissions&&i.permissions?r.a.createElement(pa.a,null,c.permissions):""),r.a.createElement(h.a,{item:!0},r.a.createElement(y.a,{py:1,textAlign:"right"},r.a.createElement(Et.a,{className:t.margin,variant:"contained",color:"primary",disabled:n,onClick:a},"Create Role")))))}))))))}ga.defaultProps={error:null,success:null};var Sa=Object(p.a)(fa)(ga);var ba=function(){var e=Object(o.c)(),t=Object(o.d)((function(e){return Object(S.a)(Object(S.a)({},e.adminAdministration),{},{token:e.auth.token})})),a=t.permissions,c=t.permissionsSyncLoading,i=t.permissionsSyncSuccess,l=t.permissionsSyncError,s=t.roleCreateLoading,u=t.roleCreateSuccess,m=t.roleCreateError,d=t.token;Object(n.useEffect)((function(){c||i||l||e(function(e){return function(){var t=Object(ye.a)(Ae.a.mark((function t(a){var n,r,c;return Ae.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=function(e){try{var t=we.validateSync(e.data);a({type:"ADMIN_ADMINISTRATION_SYNC_PERMISSIONS_SUCCESS",payload:{permissions:t}.permissions})}catch(n){a(ke("Server connection failed. Please check your connection."))}},n=function(e){var t;e&&(t=e.data.message),t||(t="Server connection failed"),a(ke(t))},a({type:"ADMIN_ADMINISTRATION_SYNC_PERMISSIONS_BEGIN"}),t.prev=3,t.next=6,Re.a.get("".concat(Ce).concat("/api/permissions/list"),{headers:{token:e}});case 6:c=t.sent,r(c),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(3),n(t.t0.response);case 13:case"end":return t.stop()}}),t,null,[[3,10]])})));return function(e){return t.apply(this,arguments)}}()}(d))}),[d,e,c,i,l]);var E=Oe.e().shape({name:Oe.g().required("Required"),permissions:Oe.a().min(1,"Choose at least one").of(Oe.g()).required("Required")});return r.a.createElement(Sa,{permissions:a,error:m||l,loading:s||c,success:u,validationSchema:E,onSubmit:function(t,a){var n=a.setSubmitting;e(function(e,t,a,n){return function(){var r=Object(ye.a)(Ae.a.mark((function r(c){var i,l;return Ae.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return l=function(e){c(xe(e))},i=function(e){var t;e&&(t=e.data.message),t||(t="Server connection failed"),c(Le(t))},c({type:"ADMIN_ADMINISTRATION_CREATE_ROLES_BEGIN"}),r.prev=3,r.next=6,Re.a.post("".concat(Ce).concat("/api/roles/create"),{name:t,permissions:a},{headers:{token:e}});case 6:if(200===r.sent.status){r.next=9;break}throw Error("Server responded with an error");case 9:l("Role '".concat(t,"' created successfully.")),n(),r.next=17;break;case 13:r.prev=13,r.t0=r.catch(3),i(r.t0.response),n();case 17:case"end":return r.stop()}}),r,null,[[3,13]])})));return function(e){return r.apply(this,arguments)}}()}(d,t.name,t.permissions,(function(){n(!1)})))}})},Ia=function(){return{root:{maxWidth:936,margin:"auto",overflow:"hidden"},title:{fontSize:16,fontWeight:"bold"},wrapper:{padding:"16px"}}};function va(e){var t=e.classes,a=e.roles,c=e.error,i=e.success,l=e.loading,o=e.onRefresh,s=e.onDelete,u=Object(n.useState)({}),m=Object(x.a)(u,2),d=m[0],E=m[1],p=function(){E({})};return r.a.createElement(w,{visible:l},r.a.createElement(I.a,{className:t.root},r.a.createElement(v.a,{position:"static",color:"inherit",elevation:0},r.a.createElement(N.a,null,r.a.createElement(h.a,{container:!0,spacing:2,alignItems:"center"},r.a.createElement(h.a,{item:!0,xs:!0},r.a.createElement("p",{className:t.title},"Manage Roles"))),r.a.createElement(h.a,{item:!0},r.a.createElement(_.a,{title:"Refresh Tokens List"},r.a.createElement(A.a,{onClick:o},r.a.createElement(b.B,null)))))),r.a.createElement(h.a,{container:!0,direction:"column",alignItems:"stretch",className:t.wrapper},r.a.createElement(U,{success:i,error:c}),r.a.createElement(h.a,{item:!0},r.a.createElement(y.a,{px:2,pb:2},"Below the list of roles in the system are given. When inviting new user, you can now select the role from following list. You may also delete roles. However, currently you can delete only the roles without any users.")),r.a.createElement(h.a,{item:!0},r.a.createElement(be,{columns:[{title:"Role",field:"name"},{title:"Permissions",type:"numeric",sorting:!1,render:function(e){return e.RolePermissions.map((function(e){return r.a.createElement(T.a,{style:{margin:"2px"},key:e.name,size:"small",label:e.name})}))}}],actions:[{icon:function(){return r.a.createElement(b.l,null)},tooltip:"Delete Role",onClick:function(e,t){return E(t)}}],data:a.map((function(e){return{id:e.id,name:e.name,RolePermissions:e.RolePermissions}})),title:""})))),r.a.createElement(bt.a,{open:null!=d.id,onClose:p,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},r.a.createElement(It.a,{id:"alert-dialog-title"},"Delete Role"),r.a.createElement(na.a,null,r.a.createElement(ra.a,{id:"alert-dialog-description"},"You can delete a role if and only if there are no users assigned to this role. If you try to delete a role with assigned users, the action will fail.",r.a.createElement("br",null),"This action cannot be undone.",r.a.createElement("br",null),r.a.createElement("br",null),"Delete Role\xa0",r.a.createElement("b",null,d.name),r.a.createElement("span",null,"\xa0?"))),r.a.createElement(yt.a,null,r.a.createElement(Et.a,{onClick:function(){null!==d&&s(d),p()},color:"primary",autoFocus:!0},"Yes"),r.a.createElement(Et.a,{onClick:p,color:"primary"},"No"))))}va.defaultProps={error:null,success:null};var Na=Object(p.a)(Ia)(va);var ha=function(){var e=Object(o.c)(),t=Object(o.d)((function(e){return Object(S.a)(Object(S.a)({},e.adminAdministration),{},{token:e.auth.token})})),a=t.roles,c=t.rolesSyncLoading,i=t.rolesSyncSuccess,l=t.rolesSyncError,s=t.roleDeleteError,u=t.roleDeleteSuccess,m=t.roleDeleteLoading,d=t.token;return Object(n.useEffect)((function(){c||i||l||e(Ue(d))}),[e,d,c,i,l]),r.a.createElement(Na,{loading:c||m,roles:a,error:s||l,success:u,onRefresh:function(){e(Ue(d))},onDelete:function(t){e(function(e,t){var a=t.id,n=t.name;return function(){var t=Object(ye.a)(Ae.a.mark((function t(r){var c,i;return Ae.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=function(t){r(qe(t)),r(Ue(e))},c=function(e){var t;e&&(t=e.data.message),t||(t="Server connection failed"),r(Ge(t))},r({type:"ADMIN_ADMINISTRATION_DELETE_ROLE_BEGIN"}),t.prev=3,t.next=6,Re.a.delete("".concat(Ce).concat("/api/roles","/").concat(a),{headers:{token:e}});case 6:if(200===t.sent.status){t.next=9;break}throw Error("Server responded with an error");case 9:i("Role '".concat(n,"' deleted successfully.")),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(3),c(t.t0.response);case 15:case"end":return t.stop()}}),t,null,[[3,12]])})));return function(e){return t.apply(this,arguments)}}()}(d,t))}})},_a=a(896),Aa=a(897),ya=a(298),Ta=a.n(ya),Ra=function(e){return{root:{maxWidth:936,margin:"auto",overflow:"hidden"},margin:{marginBottom:e.spacing(1),marginTop:e.spacing(1),marginLeft:e.spacing(1),paddingRight:e.spacing(1)},title:{fontSize:16,fontWeight:"bold"},wrapper:{padding:"16px"},gridList:{flexWrap:"nowrap"}}};function Oa(e){var t=e.classes,a=e.error,n=e.success,c=e.validationSchema,i=e.onSubmit;return r.a.createElement(I.a,{className:t.root},r.a.createElement(v.a,{position:"static",color:"inherit",elevation:0},r.a.createElement(N.a,null,r.a.createElement(h.a,{container:!0,spacing:2,alignItems:"center"},r.a.createElement(h.a,{item:!0,xs:!0},r.a.createElement("p",{className:t.title},"Create Itemsets"))))),r.a.createElement(h.a,{container:!0,direction:"column",alignItems:"stretch",className:t.wrapper},r.a.createElement(U,{success:n,error:a}),r.a.createElement(h.a,{item:!0},r.a.createElement(y.a,{px:2,pb:2},"Provide a title, image (optional) and attribute name, value pairs.\xa0",r.a.createElement("b",null,"A non editable attribute should have a default value."),"When creating items, default value will be allowed to change if the field is marked as editable.")),r.a.createElement(h.a,null,r.a.createElement(jt.d,{initialValues:{title:"",image:null,attributes:[{key:"",defaultValue:"",editable:!1}]},validationSchema:c,onSubmit:i},(function(e){var a=e.submitForm,n=e.isSubmitting,c=e.setFieldValue,i=e.values;return r.a.createElement(jt.c,null,r.a.createElement(h.a,{container:!0,direction:"column",alignContent:"stretch"},r.a.createElement(h.a,{item:!0},r.a.createElement(jt.a,{className:t.margin,component:Dt.d,required:!0,name:"title",label:"Itemset title",variant:"outlined",type:"text",placeholder:"title",fullWidth:!0})),r.a.createElement(y.a,{px:2,py:1},"Uploading image is optional, but will aid in identifying the item set later. The same image will be given to the items created using this item set."),r.a.createElement(h.a,{item:!0},r.a.createElement(y.a,{pl:1,py:1},r.a.createElement(Ft,{variant:"outlined",onSuccess:function(e){return c("image",e)}}))),r.a.createElement(h.a,{item:!0},r.a.createElement(y.a,{px:2,py:1},"Key should be unique. If the key is duplicated, the later field will be used. If a field is marked an editable, default value is not required.",r.a.createElement("br",null),"You have to enter at least one attribute.")),r.a.createElement(jt.b,{name:"attributes",render:function(e){return r.a.createElement("div",null,i.attributes.map((function(a,n){return r.a.createElement(_a.a,{key:n.toString(),cols:12,cellHeight:"auto"},r.a.createElement(Aa.a,{cols:4.75},r.a.createElement(jt.a,{className:t.margin,component:Dt.d,required:!0,name:"attributes.".concat(n,".key"),label:"Attribute Name",variant:"outlined",type:"text",placeholder:"key",fullWidth:!0})),r.a.createElement(Aa.a,{cols:4.75},r.a.createElement(jt.a,{className:t.margin,component:Dt.d,required:!0,name:"attributes.".concat(n,".defaultValue"),label:"Default Value",variant:"outlined",type:"text",placeholder:"defaultValue",fullWidth:!0})),r.a.createElement(Aa.a,{cols:1.75},r.a.createElement(y.a,{py:2,px:2},r.a.createElement(Ea.a,{control:r.a.createElement(jt.a,{component:Dt.c,name:"attributes.".concat(n,".editable"),type:"checkbox"}),label:"Editable"}))),r.a.createElement(Aa.a,{cols:.75},i.attributes.length>1?r.a.createElement(y.a,{py:1,textAlign:"right"},r.a.createElement(A.a,{className:t.margin,"aria-label":"delete",onClick:function(){return e.remove(n)}},r.a.createElement(Ta.a,null))):""))})),r.a.createElement(Et.a,{className:t.margin,variant:"outlined",startIcon:r.a.createElement(b.z,null),onClick:function(){return e.push({key:"",defaultValue:"",editable:!1})}},"Add new attribute"))}}),r.a.createElement(h.a,{item:!0},r.a.createElement(y.a,{py:1,textAlign:"right"},r.a.createElement(Et.a,{className:t.margin,variant:"contained",color:"primary",disabled:n,onClick:a},"Create Itemset")))))})))))}Oa.defaultProps={error:null,success:null};var Ma=Object(p.a)(Ra)(Oa),Ca=function(e){return{type:"ADMIN_ITEM_MANAGEMENT_CREATE_ITEMSET_SUCCESS",payload:{success:e}}},ka=function(e){return{type:"ADMIN_ITEM_MANAGEMENT_CREATE_ITEMSET_FAILURE",payload:{error:e}}};function wa(e,t,a,n,r){return function(){var c=Object(ye.a)(Ae.a.mark((function c(i){var l,o;return Ae.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return o=function(){try{i(Ca("Item set '".concat(t,"' was created successfully.'")))}catch(e){i(ka("Server connection failed. Please check your connection."))}},l=function(e){var t;e&&(t=e.data.message),t||(t="Server connection failed"),i(ka(t))},i({type:"ADMIN_ITEM_MANAGEMENT_CREATE_ITEMSET_BEGIN"}),c.prev=3,c.next=6,Re.a.post("".concat(Ce).concat("/api/itemsets/create"),{title:t,image:a,attributes:n},{headers:{token:e}});case 6:if(200===c.sent.status){c.next=9;break}throw Error("Server responded with an error");case 9:o(),r(),c.next=17;break;case 13:c.prev=13,c.t0=c.catch(3),l(c.t0.response),r();case 17:case"end":return c.stop()}}),c,null,[[3,13]])})));return function(e){return c.apply(this,arguments)}}()}var xa=function(e){return{type:"ADMIN_ITEM_MANAGEMENT_SYNC_ITEMSETS_FAILURE",payload:{error:e}}},La=Oe.e().shape({Itemsets:Oe.a().of(Oe.e().shape({id:Oe.g().required(),title:Oe.g().required(),image:Oe.g().nullable(),Attributes:Oe.a().of(Oe.e().shape({key:Oe.g().required(),defaultValue:Oe.g(),editable:Oe.c().required()}))}))});function ja(e){return function(){var t=Object(ye.a)(Ae.a.mark((function t(a){var n,r,c;return Ae.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=function(e){try{var t=La.validateSync(e.data).Itemsets;a({type:"ADMIN_ITEM_MANAGEMENT_SYNC_ITEMSETS_SUCCESS",payload:{itemsets:{itemsets:t}.itemsets}})}catch(n){a(xa("Server connection failed. Please check your connection."))}},n=function(e){var t;e&&(t=e.data.message),t||(t="Server connection failed"),a(xa(t))},a({type:"ADMIN_ITEM_MANAGEMENT_SYNC_ITEMSETS_BEGIN"}),t.prev=3,t.next=6,Re.a.get("".concat(Ce).concat("/api/itemsets/list"),{headers:{token:e}});case 6:c=t.sent,r(c),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(3),n(t.t0.response);case 13:case"end":return t.stop()}}),t,null,[[3,10]])})));return function(e){return t.apply(this,arguments)}}()}var Da=function(e){return{type:"ADMIN_ITEM_MANAGEMENT_CREATE_ITEM_SUCCESS",payload:{success:e}}},Ua=function(e){return{type:"ADMIN_ITEM_MANAGEMENT_CREATE_ITEM_FAILURE",payload:{error:e}}};function qa(e,t,a,n,r,c){return function(){var i=Object(ye.a)(Ae.a.mark((function i(l){var o,s;return Ae.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return s=function(){try{l(Da("Item '".concat(t,"' was created successfully.'")))}catch(e){l(Ua("Server connection failed. Please check your connection."))}},o=function(e){var t;e&&(t=e.data.message),t||(t="Server connection failed"),l(Ua(t))},l({type:"ADMIN_ITEM_MANAGEMENT_CREATE_ITEM_BEGIN"}),i.prev=3,i.next=6,Re.a.post("".concat(Ce).concat("/api/items/create"),{serialNumber:t,itemSetId:a,labId:n,attributes:r},{headers:{token:e}});case 6:if(200===i.sent.status){i.next=9;break}throw Error("Server responded with an error");case 9:s(),c(),i.next=17;break;case 13:i.prev=13,i.t0=i.catch(3),o(i.t0.response),c();case 17:case"end":return i.stop()}}),i,null,[[3,13]])})));return function(e){return i.apply(this,arguments)}}()}var Ga=function(e){return{type:"ADMIN_ITEM_MANAGEMENT_SYNC_ITEMS_FAILURE",payload:{error:e}}},Ba=Oe.e().shape({items:Oe.a().of(Oe.e().shape({id:Oe.g().required(),serialNumber:Oe.g().required(),ItemSet:Oe.e().shape({id:Oe.g().required(),title:Oe.g().required(),image:Oe.g().nullable()}).required(),Lab:Oe.e().shape({id:Oe.g().required(),title:Oe.g().required(),subtitle:Oe.g().required(),image:Oe.g().nullable()}).required(),ItemAttributes:Oe.a().of(Oe.e().shape({key:Oe.g().required()}))}))});function Fa(e){return function(){var t=Object(ye.a)(Ae.a.mark((function t(a){var n,r,c;return Ae.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=function(e){try{var t=Ba.validateSync(e.data).items;a({type:"ADMIN_ITEM_MANAGEMENT_SYNC_ITEMS_SUCCESS",payload:{items:{items:t}.items}})}catch(n){a(Ga("Server connection failed. Please check your connection.".concat(n)))}},n=function(e){var t;e&&(t=e.data.message),t||(t="Server connection failed"),a(Ga(t))},a({type:"ADMIN_ITEM_MANAGEMENT_SYNC_ITEMS_BEGIN"}),t.prev=3,t.next=6,Re.a.get("".concat(Ce).concat("/api/items/list"),{headers:{token:e}});case 6:c=t.sent,r(c),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(3),n(t.t0.response);case 13:case"end":return t.stop()}}),t,null,[[3,10]])})));return function(e){return t.apply(this,arguments)}}()}var Pa=function(e){return{type:"ADMIN_ITEM_MANAGEMENT_SYNC_LENT_ITEMS_FAILURE",payload:{error:e}}},Va=Oe.e().shape({lentItems:Oe.a().of(Oe.e().shape({id:Oe.g().required(),title:Oe.g().required(),image:Oe.g().nullable(),requests:Oe.a().of(Oe.e().shape({id:Oe.g().required(),itemId:Oe.g().required(),studentId:Oe.g().required(),dueTime:Oe.d().required(),borrowedTime:Oe.d().required(),status:Oe.g().required(),Item:Oe.e().shape({serialNumber:Oe.g().required(),ItemSet:Oe.e().shape({title:Oe.g().required(),image:Oe.g().nullable()})})}))}))});function Ya(e){return function(){var t=Object(ye.a)(Ae.a.mark((function t(a){var n,r,c;return Ae.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=function(e){try{var t=Va.validateSync(e).lentItems,n=[];t.forEach((function(e){var t={id:e.id,title:e.title,image:e.image};e.requests.forEach((function(e){n.push({lab:t,request:e})}))})),a({type:"ADMIN_ITEM_MANAGEMENT_SYNC_LENT_ITEMS_SUCCESS",payload:{lentItems:{lentItems:n}.lentItems}})}catch(r){a(Pa("Server connection failed. Please check your connection.".concat(r)))}},n=function(e){var t;e&&(t=e.data.message),t||(t="Server connection failed"),a(Pa(t))},a({type:"ADMIN_ITEM_MANAGEMENT_SYNC_LENT_ITEMS_BEGIN"}),t.prev=3,t.next=6,Re.a.get("".concat(Ce).concat("/api/temporaryrequests/list"),{headers:{token:e}});case 6:c=t.sent,r(c.data),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(3),n(t.t0.response);case 13:case"end":return t.stop()}}),t,null,[[3,10]])})));return function(e){return t.apply(this,arguments)}}()}var Wa=function(e){return{type:"ADMIN_ITEM_MANAGEMENT_SYNC_ITEM_REQUESTS_FAILURE",payload:{error:e}}};function za(e,t){return function(){var e=Object(ye.a)(Ae.a.mark((function e(a){var n,r,c,i,l;return Ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=function(e){a({type:"ADMIN_ITEM_MANAGEMENT_SYNC_ITEM_REQUESTS_SUCCESS",payload:{itemRequests:{itemRequests:e}.itemRequests}})},n=function(e){var t;e&&(t=e.data.message),t||(t="Server connection failed"),a(Wa(t))},a({type:"ADMIN_ITEM_MANAGEMENT_SYNC_ITEM_REQUESTS_LOADING"}),e.prev=3,e.next=6,Re.a.get("".concat(Ce).concat("/api/users/assignedlabs"),{headers:{token:t}});case 6:return c=e.sent,i=c.data.labs,l=[],e.next=11,Promise.all(i.map((function(e){var a=e.id;return Re.a.get("".concat(Ce).concat("/api/requestitems/lab/list","/").concat(a),{headers:{token:t}})})));case 11:e.sent.forEach((function(e){e.data.forEach((function(e){return l.push(e)}))})),r(l),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(3),n(e.t0.response);case 19:case"end":return e.stop()}}),e,null,[[3,16]])})));return function(t){return e.apply(this,arguments)}}()}var Ha=function(e){return{type:"ADMIN_ITEM_MANAGEMENT_BORROW_ITEM_SUCCESS",payload:{success:e}}},Qa=function(e){return{type:"ADMIN_ITEM_MANAGEMENT_BORROW_ITEM_FAILURE",payload:{error:e}}};function Ka(e,t,a,n,r){return function(){var e=Object(ye.a)(Ae.a.mark((function e(c){var i,l,o;return Ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l=function(){c(Ha("ACCEPTED"===n?"Item successfully lent.":"Item successfully received.")),c(za(0,r))},i=function(e){var t;e&&(t=e.data.message),t||(t="Server connection failed"),c(Qa(t))},c({type:"ADMIN_ITEM_MANAGEMENT_BORROW_ITEM_BEGIN"}),o="ACCEPTED"===n?"".concat(Ce).concat("/api/requestitems/lend"):"".concat(Ce).concat("/api/requestitems/return"),e.prev=4,e.next=7,Re.a.post(o,{itemId:t,requestId:a},{headers:{token:r}});case 7:if(200===e.sent.status){e.next=10;break}throw Error("Server responded with an error");case 10:l(),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(4),i(e.t0.response);case 16:case"end":return e.stop()}}),e,null,[[4,13]])})));return function(t){return e.apply(this,arguments)}}()}var Ja=function(){var e=Object(o.c)(),t=Object(o.d)((function(e){return Object(S.a)(Object(S.a)({},e.adminItemManagement),{},{token:e.auth.token})})),a=t.createItemsetError,n=t.createItemsetLoading,c=t.createItemsetSuccess,i=t.token,l=Oe.e().shape({title:Oe.g().required("Required"),image:Oe.g().nullable(),attributes:Oe.a().of(Oe.e().shape({editable:Oe.c(),key:Oe.g().required("Required"),defaultValue:Oe.g().when("editable",{is:!1,then:Oe.g().required("Required")})}).required("Required")).required().min(1,"Choose at least one")}),s=function(){var t=Object(ye.a)(Ae.a.mark((function t(a,n){var r,c;return Ae.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=n.setSubmitting,c=function(){r(!1)},t.next=4,e(wa(i,a.title,a.image,a.attributes,c));case 4:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}();return r.a.createElement(Ma,{validationSchema:l,onSubmit:s,error:a,success:c,loading:n})},Xa=function(){return{root:{maxWidth:936,margin:"auto",overflow:"hidden"},title:{fontSize:16,fontWeight:"bold"},wrapper:{padding:"16px"},image:{borderRadius:8,width:"50px"}}};function Za(e){var t=e.classes,a=e.itemSets,c=e.error,i=e.loading,l=e.onRefresh,o=Object(n.useState)(!1),s=Object(x.a)(o,2),m=s[0],d=s[1],E=Object(n.useState)([]),p=Object(x.a)(E,2),f=p[0],g=p[1],S=function(){return d(!1)};return r.a.createElement(w,{visible:i},r.a.createElement(I.a,{className:t.root},r.a.createElement(v.a,{position:"static",color:"inherit",elevation:0},r.a.createElement(N.a,null,r.a.createElement(h.a,{container:!0,spacing:2,alignItems:"center"},r.a.createElement(h.a,{item:!0,xs:!0},r.a.createElement("p",{className:t.title},"View Item Sets"))),r.a.createElement(h.a,{item:!0},r.a.createElement(_.a,{title:"Refresh Tokens List"},r.a.createElement(A.a,{onClick:l},r.a.createElement(b.B,null)))))),r.a.createElement(h.a,{container:!0,direction:"column",alignItems:"stretch",className:t.wrapper},r.a.createElement(U,{success:null,error:c}),r.a.createElement(h.a,{item:!0},r.a.createElement(y.a,{px:2,pb:2},"Below the list of itemSets in the system are given.")),r.a.createElement(h.a,{item:!0},r.a.createElement(be,{columns:[{field:"title",sorting:!1,render:function(e){return r.a.createElement(ht.a,null,r.a.createElement(_t.a,null,r.a.createElement(R.a,{variant:"rounded",alt:e.id},null==e.image?r.a.createElement("img",{src:"https://via.placeholder.com/50",className:t.image,alt:e.id}):r.a.createElement(u.Image,{publicId:e.image,className:t.image}))),r.a.createElement(At.a,{primary:e.title}))}},{title:"",type:"numeric",sorting:!1,render:function(e){return r.a.createElement(Et.a,{variant:"outlined",disabled:0===e.Attributes.length,onClick:(t=e,function(){g(t.Attributes),d(!0)}),startIcon:r.a.createElement(b.i,null)},"Attributes");var t}}],data:a.map((function(e){var t=e.id,a=e.title,n=e.image,r=e.Attributes;return{id:t,title:Ie(a),image:n,Attributes:r}})),title:""})))),r.a.createElement(bt.a,{open:m,onClose:S,onExited:function(){d(!1),g([])},scroll:"paper",fullWidth:!0},r.a.createElement(It.a,null,"Item set attributes"),r.a.createElement(Nt.a,null,f.map((function(e){return r.a.createElement(ht.a,{key:e.key},r.a.createElement(_t.a,null,r.a.createElement(R.a,{className:t.avatar},e.editable?r.a.createElement(b.o,null):r.a.createElement(b.t,null))),r.a.createElement(At.a,{primary:e.key,secondary:e.defaultValue}))}))),r.a.createElement(yt.a,null,r.a.createElement(Et.a,{onClick:S,color:"primary"},"Close"))))}Za.defaultProps={error:null};var $a=Object(p.a)(Xa)(Za);var en=function(){var e=Object(o.c)(),t=Object(o.d)((function(e){return Object(S.a)(Object(S.a)({},e.adminItemManagement),{},{token:e.auth.token})})),a=t.syncedItemsets,c=t.itemSetsSyncLoading,i=t.itemSetsSyncSuccess,l=t.itemSetsSyncError,s=t.token;return Object(n.useEffect)((function(){c||i||l||e(ja(s))}),[e,s,c,i,l]),r.a.createElement($a,{loading:c,itemSets:a,error:l,onRefresh:function(){e(ja(s))}})},tn=a(535),an=a.n(tn),nn=function(){return{root:{maxWidth:936,margin:"auto",overflow:"hidden"},title:{fontSize:16,fontWeight:"bold"},wrapper:{padding:"16px"},image:{borderRadius:8,width:"50px"}}};function rn(e){var t=e.classes,a=e.items,c=e.error,i=e.loading,l=e.onRefresh,o=Object(n.useState)([]),s=Object(x.a)(o,2),m=s[0],d=s[1],E=function(){return d([])};return r.a.createElement(w,{visible:i},r.a.createElement(I.a,{className:t.root},r.a.createElement(v.a,{position:"static",color:"inherit",elevation:0},r.a.createElement(N.a,null,r.a.createElement(h.a,{container:!0,spacing:2,alignItems:"center"},r.a.createElement(h.a,{item:!0,xs:!0},r.a.createElement("p",{className:t.title},"View Items"))),r.a.createElement(h.a,{item:!0},r.a.createElement(_.a,{title:"Refresh Item List"},r.a.createElement(A.a,{onClick:l},r.a.createElement(b.B,null)))))),r.a.createElement(h.a,{container:!0,direction:"column",alignItems:"stretch",className:t.wrapper},r.a.createElement(U,{success:null,error:c}),r.a.createElement(h.a,{item:!0},r.a.createElement(y.a,{px:2,pb:2},"Below the list of items in the system are given.")),r.a.createElement(h.a,{item:!0},r.a.createElement(be,{columns:[{title:"Serial Number",field:"serialNumber",cellStyle:{paddingLeft:"0px"},sorting:!1,render:function(e){return r.a.createElement(ht.a,null,r.a.createElement(At.a,{primary:e.serialNumber}))}},{title:"Itemset",field:"Itemset",cellStyle:{paddingLeft:"0px"},sorting:!1,render:function(e){return r.a.createElement(ht.a,null,r.a.createElement(_t.a,null,r.a.createElement(R.a,{variant:"rounded",alt:e.ItemSet.id},null==e.ItemSet.image?r.a.createElement("img",{src:"https://via.placeholder.com/50",className:t.image,alt:e.id}):r.a.createElement(u.Image,{publicId:e.ItemSet.image,className:t.image}))),r.a.createElement(At.a,{primary:e.ItemSet.title}))}},{title:"Lab",field:"Lab",cellStyle:{paddingLeft:"0px"},sorting:!1,render:function(e){return r.a.createElement(ht.a,null,r.a.createElement(_t.a,null,r.a.createElement(R.a,{variant:"rounded",alt:e.Lab.id},null==e.Lab.image?r.a.createElement("img",{src:"https://via.placeholder.com/50",className:t.image,alt:e.id}):r.a.createElement(u.Image,{publicId:e.Lab.image,className:t.image}))),r.a.createElement(At.a,{primary:e.Lab.title}))}},{title:"Attributes",type:"numeric",cellStyle:{paddingLeft:"0px"},sorting:!1,render:function(e){return r.a.createElement(Et.a,{variant:"outlined",disabled:0===e.ItemAttributes.length,onClick:(t=e,function(){return d(t.ItemAttributes)}),startIcon:r.a.createElement(b.i,null)},"Attributes");var t}}],data:a.map((function(e){return{id:e.id,serialNumber:e.serialNumber,ItemSet:e.ItemSet,Lab:e.Lab,ItemAttributes:e.ItemAttributes}})),title:""})))),r.a.createElement(bt.a,{open:0!==m.length,onClose:E,scroll:"paper"},r.a.createElement(It.a,null,"Item attributes"),r.a.createElement(Nt.a,null,m.map((function(e){return r.a.createElement(ht.a,{key:e.key},r.a.createElement(_t.a,null,r.a.createElement(R.a,{className:t.avatar},r.a.createElement(an.a,null))),r.a.createElement(At.a,{primary:e.key,secondary:e.value}))}))),r.a.createElement(yt.a,null,r.a.createElement(Et.a,{onClick:E,color:"primary"},"Close"))))}rn.defaultProps={error:null};var cn=Object(p.a)(nn)(rn);var ln=function(){var e=Object(o.c)(),t=Object(o.d)((function(e){return Object(S.a)(Object(S.a)({},e.adminItemManagement),{},{token:e.auth.token})})),a=t.syncedItems,c=t.itemsSyncLoading,i=t.itemsSyncSuccess,l=t.itemsSyncError,s=t.token;return Object(n.useEffect)((function(){c||i||l||e(Fa(s))}),[e,s,c,i,l]),r.a.createElement(cn,{loading:c,items:a,error:l,onRefresh:function(){e(Fa(s))}})},on=a(901),sn=function(e){return{root:{padding:15,maxWidth:936,margin:"auto"},title:{fontSize:16,fontWeight:"bold"},margin:{marginBottom:e.spacing(1),marginTop:e.spacing(1),marginLeft:e.spacing(1),paddingRight:e.spacing(1)},cardViewWrapper:{padding:10},emptyGrid:{width:"100%",height:100},image:{borderRadius:8,width:"50px"}}};function un(e){var t=e.classes,a=e.labs,c=e.onRefresh,i=e.loading,l=e.error,o=e.successAssign,s=e.onAssigned,m=e.onUnassigned,d=e.managers,E=Object(n.useState)(!1),p=Object(x.a)(E,2),f=p[0],g=p[1],S=Object(n.useState)(!1),T=Object(x.a)(S,2),O=T[0],M=T[1],C=Object(n.useState)({Users:[],id:null}),k=Object(x.a)(C,2),L=k[0],j=k[1],D=function(){M(!1),g(!1),j({Users:[],id:null})},q={};L.Users.forEach((function(e){q[e.id]=e}));var G={};return d.forEach((function(e){null==q[e.id]&&(G[e.id]=e)})),r.a.createElement(w,{visible:i},r.a.createElement(I.a,{className:t.root},r.a.createElement(v.a,{position:"static",color:"inherit",elevation:0},r.a.createElement(N.a,null,r.a.createElement(h.a,{container:!0,spacing:2},r.a.createElement(h.a,{item:!0,xs:!0},r.a.createElement("p",{className:t.title},"Assign Staff Managers"))),r.a.createElement(h.a,{item:!0},r.a.createElement(_.a,{title:"Refresh Labs"},r.a.createElement(A.a,{onClick:c},r.a.createElement(b.B,null)))))),r.a.createElement(h.a,{container:!0,direction:"column",alignItems:"stretch"},r.a.createElement(U,{success:o||null,error:l}),r.a.createElement(h.a,{item:!0},r.a.createElement(be,{columns:[{field:"image",sorting:!1,title:"Image",render:function(e){return null==e.image?r.a.createElement("img",{src:"https://via.placeholder.com/50",className:t.image,alt:e.id}):r.a.createElement(u.Image,{publicId:e.image,className:t.image})}},{title:"Title",field:"title",sorting:!0},{title:"Subtitle",field:"subtitle",sorting:!0}],actions:[{icon:function(){return r.a.createElement(b.F,null)},tooltip:"Assign User",onClick:function(e,t){j(t),M(!0)}},function(e){return{icon:function(){return r.a.createElement(b.G,null)},disabled:0===e.Users.length,tooltip:"Unassign User",onClick:function(e,t){j(t),g(!0)}}}],options:{actionsColumnIndex:-1},data:a.map((function(e){return{id:e.id,Users:e.Users,image:e.image,subtitle:e.subtitle,title:e.title}})),title:""})))),r.a.createElement(bt.a,{onClose:function(){g(!1)},onExited:D,"aria-labelledby":"unassigned-dialog-title",open:f,fullWidth:!0},r.a.createElement(It.a,{id:"unassigned-dialog-title"},"Unassign Staff Members"),r.a.createElement(Nt.a,null,0===Object.values(q).length&&r.a.createElement(y.a,{p:3},"No managers to display"),Object.values(q).map((function(e){return r.a.createElement(ht.a,{key:e.id},r.a.createElement(_t.a,null,r.a.createElement(R.a,null,r.a.createElement(b.E,null))),r.a.createElement(At.a,{primary:"".concat(e.firstName," ").concat(e.lastName),secondary:e.email}),r.a.createElement(on.a,null,r.a.createElement(Et.a,{color:"secondary",variant:"contained",onClick:(t=e.id,function(){m(L.id,t),D()})},"Unassign")));var t})))),r.a.createElement(bt.a,{onClose:function(){M(!1)},onExited:D,"aria-labelledby":"assigned-dialog-title",open:O,fullWidth:!0},r.a.createElement(It.a,{id:"assigned-dialog-title"},"Assign Staff Members"),r.a.createElement(Nt.a,null,0===Object.values(G).length&&r.a.createElement(y.a,{p:3},"No managers to display"),Object.values(G).map((function(e){return r.a.createElement(ht.a,{key:e.id},r.a.createElement(_t.a,null,r.a.createElement(R.a,null,r.a.createElement(b.E,null))),r.a.createElement(At.a,{primary:"".concat(e.firstName," ").concat(e.lastName),secondary:e.email}),r.a.createElement(on.a,null,r.a.createElement(Et.a,{color:"secondary",variant:"contained",onClick:(t=e.id,function(){s(L.id,t),D()})},"Assign")));var t})))))}un.defaultProps={error:null,successAssign:null};var mn,dn=Object(p.a)(sn)(un),En=function(){var e=Object(o.c)(),t=Object(o.d)((function(e){return Object(S.a)(Object(S.a)({},e.adminLabManagement),{},{token:e.auth.token})})),a=t.labs,c=t.managers,i=t.labsSyncLoading,l=t.labsSyncSuccess,s=t.labsSyncError,u=t.managersSyncLoading,m=t.managersSyncSuccess,d=t.managersSyncError,E=t.labAssignLoading,p=t.labAssignError,f=t.labAssignSuccess,g=t.labUnAssignLoading,b=t.labUnAssignError,I=t.labUnAssignSuccess,v=t.token;Object(n.useEffect)((function(){i||l||s||e(Qt(v)),u||m||d||e($t(v))}),[e,v,i,l,s,c,u,m,d]);return r.a.createElement(dn,{labs:a,managers:c,onRefresh:function(){e(Qt(v)),e($t(v))},loading:i||u||E||g,error:s||d||p||b,successAssign:f||I,onAssigned:function(t,a){e(function(e,t,a){return function(){var n=Object(ye.a)(Ae.a.mark((function n(r){var c,i;return Ae.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return i=function(t){r(Kt(t)),r(Qt(e))},c=function(e){var t;e&&(t=e.data.message),t||(t="Server connection failed"),r(Jt(t))},r({type:"ADMIN_LAB_MANAGEMENT_ASSIGN_STAFF_BEGIN"}),n.prev=3,n.next=6,Re.a.post("".concat(Ce).concat("/api/labs/assign"),{labId:t,userId:a},{headers:{token:e}});case 6:if(200===n.sent.status){n.next=9;break}throw Error("Server responded with an error");case 9:i("Lab Assigned successfully!"),n.next=15;break;case 12:n.prev=12,n.t0=n.catch(3),c(n.t0.response);case 15:case"end":return n.stop()}}),n,null,[[3,12]])})));return function(e){return n.apply(this,arguments)}}()}(v,t,a))},onUnassigned:function(t,a){e(function(e,t,a){return function(){var n=Object(ye.a)(Ae.a.mark((function n(r){var c,i;return Ae.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return i=function(t){r(ea(t)),r(Qt(e))},c=function(e){var t;e&&(t=e.data.message),t||(t="Server connection failed"),r(ta(t))},r({type:"ADMIN_LAB_MANAGEMENT_UNASSIGN_STAFF_BEGIN"}),n.prev=3,n.next=6,Re.a.post("".concat(Ce).concat("/api/labs/unassign"),{labId:t,userId:a},{headers:{token:e}});case 6:if(200===n.sent.status){n.next=9;break}throw Error("Server responded with an error");case 9:i("Lab Unassigned successfully!"),n.next=15;break;case 12:n.prev=12,n.t0=n.catch(3),c(n.t0.response);case 15:case"end":return n.stop()}}),n,null,[[3,12]])})));return function(e){return n.apply(this,arguments)}}()}(v,t,a))}})},pn=function(e){return{root:{maxWidth:936,margin:"auto",overflow:"hidden"},margin:{marginLeft:e.spacing(1),paddingRight:e.spacing(1)},title:{fontSize:16,fontWeight:"bold"},wrapper:{padding:"16px"},gridList:{flexWrap:"nowrap"},select:{margin:e.spacing(1),minWidth:120}}},fn=a(536),gn=a.n(fn),Sn=function(e){return{type:"SOCKET_START_ON_DEVICE_MESSAGE",payload:e}},bn=function(e){return{type:"SOCKET_START_ON_DEVICE_CONNECT",payload:e}},In=function(e){return{type:"SOCKET_START_ON_DEVICE_DISCONNECT",payload:e}},vn=function(e){var t=e.onSubmit,a=e.variant,n=e.color,c=Object(o.c)(),i=Object(o.d)((function(e){return Object(S.a)(Object(S.a)({},e.socket),{},{token:e.auth.token})})),l=i.token,s=i.lastEvent,u=i.showOverlay,m=function(){return c(Object(ye.a)(Ae.a.mark((function e(){return Ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(mn)try{mn.disconnect()}catch(t){}case 1:case"end":return e.stop()}}),e)}))))};return r.a.createElement("div",null,r.a.createElement(h.a,{container:!0,direction:"column",alignItems:"flex-start"},r.a.createElement(h.a,{item:!0},r.a.createElement(Et.a,{startIcon:r.a.createElement(b.y,null),color:n,variant:a,onClick:function(){return c(function(e){return function(){var t=Object(ye.a)(Ae.a.mark((function t(a){var n;return Ae.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(mn)try{mn.disconnect()}catch(r){}a({type:"SOCKET_START_BEGIN"}),mn=gn()("".concat(Ce,"/staff"),{query:{client:"web",token:e}}),n=function(e){var t=e.type,n=e.client,r=e.data,c=e.timestamp;"mobile"===n&&("connect"===t?a(bn({timestamp:c})):"disconnect"===t?a(In({timestamp:c})):"message"===t&&a(Sn({data:r,timestamp:c})))},mn.on("connect",(function(){return a({type:"SOCKET_START_ON_CONNECT"})})),mn.on("server#message",n),mn.on("disconnect",(function(){return a({type:"SOCKET_START_ON_DISCONNECT"})}));case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(l))}},"Connect to Mobile"))),r.a.createElement(bt.a,{"aria-labelledby":"dialog-title",open:u,onClose:m,maxWidth:"xs",fullWidth:!0},r.a.createElement(h.a,{container:!0,justify:"center"},r.a.createElement(y.a,{py:2},!s&&r.a.createElement(y.a,{pt:5,pb:1},r.a.createElement(C.a,{color:"secondary"})),s&&r.a.createElement(y.a,{pt:2,pb:1},r.a.createElement(qt.a,{variant:"h4"},s&&s.data&&s.data.barcode)))),r.a.createElement(yt.a,null,s&&r.a.createElement(Et.a,{onClick:function(){t(s&&s.data&&s.data.barcode),m()},color:"primary"},"Copy"),r.a.createElement(Et.a,{onClick:m,autoFocus:!0},"Cancel"))))};vn.defaultProps={variant:"contained",color:"primary"};var Nn=vn;function hn(e){var t=e.classes,a=e.itemsets,n=e.labs,c=e.validationSchema,i=e.error,l=e.success,o=e.loading,s=e.onSubmit;return r.a.createElement(w,{visible:o},r.a.createElement(I.a,{className:t.root},r.a.createElement(v.a,{position:"static",color:"inherit",elevation:0},r.a.createElement(N.a,null,r.a.createElement(h.a,{container:!0,spacing:2,alignItems:"center"},r.a.createElement(h.a,{item:!0,xs:!0},r.a.createElement("p",{className:t.title},"Create Items"))))),r.a.createElement(h.a,{container:!0,direction:"column",alignItems:"stretch",className:t.wrapper},r.a.createElement(U,{success:l,error:i}),r.a.createElement(h.a,{item:!0},r.a.createElement(y.a,{px:2,pb:2},"Provide a serial number, an itemset, a lab that the item belongs and the attributes of the item.\xa0",r.a.createElement("b",null,"You can alter the values of the editable attributes of the itemset attributes"))),r.a.createElement(h.a,null,r.a.createElement(jt.d,{initialValues:{serialNumber:"",itemset:"",lab:"",attributes:[]},validationSchema:c,onSubmit:s},(function(e){var c=e.submitForm,i=e.isSubmitting,l=e.values,o=e.setFieldValue;return r.a.createElement(jt.c,null,r.a.createElement(h.a,{container:!0,direction:"column",alignContent:"stretch"},r.a.createElement(h.a,{item:!0,style:{marginBottom:"10px"}},r.a.createElement(jt.a,{className:t.margin,component:Dt.d,required:!0,name:"serialNumber",label:"Serial Number",variant:"outlined",type:"text",placeholder:"Serial Number",fullWidth:!0})),r.a.createElement(h.a,{item:!0,container:!0,direction:"row",alignItems:"center"},r.a.createElement(h.a,{item:!0,sm:3},r.a.createElement(y.a,{px:1},r.a.createElement(Nn,{onSubmit:function(e){return o("serialNumber",e)}}))),r.a.createElement(h.a,{item:!0,sm:9},r.a.createElement("span",null,"Click on this button and scan from the mobile device"))),r.a.createElement(y.a,{px:2,pt:1,pb:2},0===a.length||0===n.length?r.a.createElement("p",null,"No itemsets or labs. Cannot create an item without an itemset or a lab."):""),r.a.createElement(h.a,{item:!0},r.a.createElement(y.a,{px:2,pb:2},"Select the item set and lab from below list.",r.a.createElement("b",null,"You can only set items to the labs that you are in charge of managing,"))),r.a.createElement(h.a,{item:!0,className:t.margin,style:{marginBottom:"10px"}},r.a.createElement(st.a,{variant:"outlined",fullWidth:!0},r.a.createElement(ut.a,{id:"itemset-select-label"},"Itemset"),r.a.createElement(mt.a,{labelId:"itemset-select-label",name:"itemset",onChange:function(e){a.forEach((function(t){if(t.id===e.target.value){var a=t.Attributes.map((function(e){return{key:e.key,value:e.defaultValue,editable:e.editable,itemsetAttribute:!0}}));o("itemset",t.id),o("attributes",a)}}))},defaultValue:""},a.map((function(e){return r.a.createElement(dt.a,{key:e.id,value:e.id},e.title)}))))),r.a.createElement(h.a,{item:!0,className:t.margin},r.a.createElement(st.a,{variant:"outlined",fullWidth:!0},r.a.createElement(ut.a,{id:"lab-select-label"},"Lab"),r.a.createElement(jt.a,{labelId:"lab-select-label",component:Dt.b,name:"lab",defaultValue:""},n.map((function(e){return r.a.createElement(dt.a,{key:e.id,value:e.id},e.title)}))))),r.a.createElement(h.a,{item:!0},r.a.createElement(y.a,{px:2,py:1},"Key should be unique. If the key is duplicated, the later field will be used. If a field is marked an editable, default value is not required.",r.a.createElement("br",null),"You have to enter at least one attribute.")),r.a.createElement(jt.b,{name:"attributes",render:function(e){return r.a.createElement("div",null,l.attributes.map((function(a,n){return r.a.createElement(h.a,{container:!0,direction:"row",key:n.toString(),style:{marginBottom:"8px"}},r.a.createElement(h.a,{item:!0,sm:5},r.a.createElement(jt.a,{className:t.margin,component:Dt.d,required:!0,name:"attributes.".concat(n,".key"),variant:"outlined",type:"text",placeholder:"key",fullWidth:!0,disabled:a.itemsetAttribute})),r.a.createElement(h.a,{item:!0,sm:6},r.a.createElement(jt.a,{className:t.margin,component:Dt.d,required:!0,name:"attributes.".concat(n,".value"),variant:"outlined",type:"text",placeholder:"value",fullWidth:!0,disabled:!a.editable})),r.a.createElement(h.a,{item:!0,sm:1},a.itemsetAttribute?"":r.a.createElement(y.a,{py:1,textAlign:"right"},r.a.createElement(A.a,{className:t.margin,"aria-label":"delete",onClick:function(){return e.remove(n)}},r.a.createElement(Ta.a,null)))))})),r.a.createElement(Et.a,{className:t.margin,variant:"outlined",startIcon:r.a.createElement(b.z,null),onClick:function(){return e.push({key:"",defaultValue:"",editable:!0,itemsetAttribute:!1})}},"Add new attribute"))}}),r.a.createElement(h.a,{item:!0},r.a.createElement(y.a,{py:1,textAlign:"right"},r.a.createElement(Et.a,{className:t.margin,variant:"contained",color:"primary",disabled:i,onClick:c},"Create Item")))))}))))))}hn.defaultProps={error:null,success:null};var _n=Object(p.a)(pn)(hn);var An=function(){var e=Object(o.c)(),t=Object(o.d)((function(e){return Object(S.a)(Object(S.a)(Object(S.a)({},e.adminItemManagement),e.adminLabManagement),{},{token:e.auth.token})})),a=t.createItemError,c=t.createItemLoading,i=t.createItemSuccess,l=t.syncedItemsets,s=t.itemSetsSyncLoading,u=t.itemSetsSyncSuccess,m=t.itemSetsSyncError,d=t.labs,E=t.labsSyncLoading,p=t.labsSyncError,f=t.labsSyncSuccess,g=t.token;Object(n.useEffect)((function(){s||u||m||e(ja(g)),E||p||f||e(Qt(g))}),[g,e,s,u,m,E,f,p]);var b=Oe.e().shape({serialNumber:Oe.g().required("Required"),itemset:Oe.g().required("Required"),lab:Oe.g().required("Required"),attributes:Oe.a().of(Oe.e().shape({key:Oe.g().required("Required"),value:Oe.g().required("Required"),editable:Oe.c().required("Required"),itemsetAttribute:Oe.c().required("Required")})).required("Required")}).required("Required"),I=function(){var t=Object(ye.a)(Ae.a.mark((function t(a,n){var r,c,i,l;return Ae.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=n.setSubmitting,c=function(){r(!1)},i=a.attributes.filter((function(e){return e.editable})),l=Object(S.a)(Object(S.a)({},a),{},{attributes:i.map((function(e){return{key:e.key,value:e.value}}))}),e(qa(g,l.serialNumber,l.itemset,l.lab,l.attributes,c));case 5:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}();return r.a.createElement(_n,{itemsets:l,labs:d,validationSchema:b,error:a||m||p,success:i,loading:c||s||E,onSubmit:I})},yn=function(){return{root:{maxWidth:936,margin:"auto"},wrapper:{padding:20},item:{marginBottom:20},title:{fontSize:16,fontWeight:"bold"},table:{minWidth:650}}};function Tn(e){var t=e.classes,a=e.itemRequests,c=e.addLentItem,i=e.returnLentItem,l=e.loading,o=e.error,s=e.success,u=e.onRefresh,m=Object(n.useState)(null),d=Object(x.a)(m,2),E=d[0],p=d[1],f=function(){return p(null)},g=function(e){return null===e?"Not Yet":r.a.createElement(_.a,{title:e.toString()},r.a.createElement("i",null,ia()(e).fromNow()))};return r.a.createElement(w,{visible:l},r.a.createElement(I.a,{className:t.root},r.a.createElement(v.a,{position:"static",color:"inherit",elevation:0},r.a.createElement(N.a,null,r.a.createElement(h.a,{container:!0,spacing:2,alignItems:"center"},r.a.createElement(h.a,{item:!0,xs:!0},r.a.createElement("p",{className:t.title},"Lend/Receive"))),r.a.createElement(h.a,{item:!0},r.a.createElement(_.a,{title:"Refresh Item List"},r.a.createElement(A.a,{onClick:u},r.a.createElement(b.B,null)))))),r.a.createElement(h.a,{className:t.wrapper,container:!0,direction:"column",alignItems:"stretch"},r.a.createElement(U,{success:s,error:o}),r.a.createElement(be,{grouping:!0,columns:[{field:"requestStatus",title:"Request status",searchable:!1,render:function(e){return r.a.createElement(T.a,{color:"primary",style:{margin:"2px"},size:"small",label:e.requestStatus})}},{title:"Lab",field:"lab"},{title:"Supervisor",field:"supervisor"},{title:"Student",field:"name"},{sorting:!1,type:"numeric",render:function(e){return r.a.createElement(Et.a,{variant:"contained",color:"secondary",onClick:(t=e,function(){return p(t)}),startIcon:r.a.createElement(b.d,null)},"Items");var t}}],data:a.map((function(e){var t=e.id,a=e.User,n=e.status,r=e.RequestItems,c=e.Supervisor;return{id:t,name:"".concat(a.firstName," ").concat(a.lastName," (").concat(a.email,")"),lab:r[0]&&r[0].Item.Lab.title,requestStatus:n,RequestItems:r,supervisor:"".concat(c.firstName," ").concat(c.lastName," (").concat(c.email,")")}})),title:""}))),E&&r.a.createElement(bt.a,{open:null!=E,maxWidth:"lg",onClose:f},r.a.createElement(It.a,null,"Items"),r.a.createElement(na.a,null,r.a.createElement(be,{columns:[{title:"Item Name",field:"item"},{title:"Serial Number",field:"serialNumber",render:function(e){return r.a.createElement(T.a,{size:"small",label:e.serialNumber})}},{title:"Status",field:"status",render:function(e){return r.a.createElement(T.a,{size:"small",label:e.status})}},{title:"Borrowed Date",field:"borrowedDate",searchable:!1,render:function(e){return g(e.borrowedDate)}},{title:"Due Date",field:"dueDate",searchable:!1,render:function(e){return g(e.dueDate)}},{title:"Returned Date",field:"returnedDate",searchable:!1,render:function(e){return g(e.returnedDate)}},{title:"Actions",type:"numeric",render:function(e){return"ACCEPTED"===e.status&&null===e.borrowedDate?r.a.createElement(Et.a,{variant:"contained",color:"secondary",onClick:function(){c(E.id,e.id,e.status),f()}},"Lend"):"BORROWED"===e.status?r.a.createElement(Et.a,{variant:"contained",color:"secondary",onClick:function(){i(E.id,e.id,e.status),f()}},"Receive"):""}}],data:E.RequestItems.map((function(e){return{id:e.Item.id,item:e.Item.ItemSet.title,serialNumber:e.Item.serialNumber,status:e.status,borrowedDate:e.borrowedDate,dueDate:e.dueDate,returnedDate:e.returnedDate}})),title:""})),r.a.createElement(yt.a,null,r.a.createElement(Et.a,{onClick:f,color:"primary"},"Close"))))}Tn.defaultProps={error:null,success:null};var Rn=Object(p.a)(yn)(Tn);var On=function(){var e=Object(o.c)(),t=Object(o.d)((function(e){return Object(S.a)(Object(S.a)({},e.adminItemManagement),{},{token:e.auth.token,userId:e.auth.user.id})})),a=t.syncedItemRequests,c=t.itemRequestsSyncloading,i=t.itemRequestsSyncSuccess,l=t.itemRequestsSyncError,s=t.itemBorrowLoading,u=t.itemBorrowSuccess,m=t.itemBorrowFailure,d=t.token,E=t.userId;return Object(n.useEffect)((function(){c||i||l||e(za(0,d))}),[e,d,E,c,i,l]),r.a.createElement(Rn,{loading:c||s,itemRequests:a,addLentItem:function(t,a,n){e(Ka(0,a,t,n,d))},returnLentItem:function(t,a,n){e(Ka(0,a,t,n,d))},error:l||m,success:u,onRefresh:function(){e(za(0,d))}})},Mn=function(){return{root:{maxWidth:936,margin:"auto",overflow:"hidden"},title:{fontSize:16,fontWeight:"bold"},wrapper:{padding:"16px"},image:{borderRadius:8,width:"50px"}}};function Cn(e){var t=e.classes,a=e.lentItems,n=e.onRefresh,c=e.error,i=e.loading;return r.a.createElement(w,{visible:i},r.a.createElement(I.a,{className:t.root},r.a.createElement(v.a,{position:"static",elevation:0,color:"inherit"},r.a.createElement(N.a,null,r.a.createElement(h.a,{container:!0,alignItems:"center",spacing:2},r.a.createElement(h.a,{item:!0,xs:!0},r.a.createElement("p",{className:t.title},"View Lent Items")),r.a.createElement(h.a,{item:!0},r.a.createElement(_.a,{title:"Refresh Lent Items List"},r.a.createElement(A.a,{onClick:n},r.a.createElement(b.B,null))))))),r.a.createElement(h.a,{container:!0,direction:"column",alignItems:"stretch",className:t.wrapper},r.a.createElement(U,{success:null,error:c}),r.a.createElement(h.a,{item:!0},r.a.createElement(y.a,{px:2},"Below the list of items lent are given")),r.a.createElement(h.a,{item:!0},r.a.createElement(be,{columns:[{field:"image",sorting:!1,render:function(e){return null==e.image?r.a.createElement("img",{src:"https://via.placeholder.com/50",className:t.image,alt:e.id}):r.a.createElement(u.Image,{publicId:e.image,className:t.image})}},{field:"studentId",title:"Student Id",render:function(e){return r.a.createElement(T.a,{label:e.studentId})}},{field:"lab",title:"Lab Title"},{field:"title",title:"Item Title"},{field:"serialNumber",title:"Serial Number",render:function(e){return r.a.createElement(T.a,{label:e.serialNumber})}},{field:"status",title:"Status",render:function(e){return r.a.createElement(T.a,{color:"primary",label:e.status})}}],data:a.map((function(e){var t=e.lab,a=e.request;return{id:a.id,lab:t.title,title:a.Item.ItemSet.title,serialNumber:a.Item.serialNumber,image:a.Item.ItemSet.image,status:a.status,studentId:a.studentId}})),title:""})))))}Cn.defaultProps={error:null};var kn=Object(p.a)(Mn)(Cn);var wn=function(){var e=Object(o.c)(),t=Object(o.d)((function(e){return Object(S.a)(Object(S.a)({},e.adminItemManagement),{},{token:e.auth.token})})),a=t.syncedLentItems,c=t.lentItemsSyncLoading,i=t.lentItemsSyncSuccess,l=t.lentItemsSyncError,s=t.token;return Object(n.useEffect)((function(){c||i||l||e(Ya(s))}),[e,s,c,i,l]),r.a.createElement(kn,{lentItems:a,onRefresh:function(){e(Ya(s))},error:l,loading:c})},xn=a(892),Ln=function(e){return{type:"SIGN_IN_FAILURE",payload:{error:e}}},jn=Oe.e().shape({token:Oe.g().required(),user:Oe.e().shape({id:Oe.g().required(),firstName:Oe.g().required(),lastName:Oe.g().required(),email:Oe.g().required(),permissions:Oe.a().of(Oe.g()),role:Oe.g().required(),roleId:Oe.g().required()})});var Dn=function(e){return{type:"AUTH_SIGN_UP_FAILURE",payload:{error:e}}};var Un=function(){return{type:"AUTH_SIGN_OUT"}},qn=function(e){return{type:"AUTH_REQUEST_INVITATION_FAILURE",payload:{error:e}}},Gn=Oe.e().shape({email:Oe.g().email().required(),roleId:Oe.g().required(),Role:Oe.e().shape({name:Oe.g().required()})});var Bn=function(){return{type:"AUTH_INVITATION_REDIRECTED"}},Fn=[{path:"/admin/dashboard",name:"Dashboard"},{path:"/admin/administration/users",name:"View Users"},{path:"/admin/users/invite",name:"Invite Users"},{path:"/admin/labs/createlabs",name:"Create Labs"},{path:"/admin/users/retract",name:"Retract Invitations"},{path:"/admin/administration/supervisor/add",name:"Add Supervisors"},{path:"/admin/administration/supervisor/list",name:"View Supervisors"},{path:"/admin/administration/roles/create",name:"Create New Role"},{path:"/admin/administration/roles/delete",name:"Manage Roles"},{path:"/admin/administration/supervisor/add",name:"Add Supervisors"},{path:"/admin/administration/superviosor/list",name:"View Supervisors"},{path:"/admin/lab/itemsets/create",name:"Create Item Sets"},{path:"/admin/labs/labs",name:"View Labs"},{path:"/admin/itemset/list",name:"View Item Sets"},{path:"/admin/items/create",name:"Create Items"},{path:"/admin/items/list",name:"View Items"},{path:"/admin/lentitems/list",name:"View Lent Items"},{path:"/admin/labs/assignstaff",name:"Assign Staff Managers"},{path:"/admin/lenditems/lend",name:"Lend/Receive"},{path:"/admin/items/generatebarcode",name:"Generate Barcode"},{path:"/admin/tempitems",name:"View Temporary Lent Items"}],Pn=a(537),Vn=a.n(Pn),Yn=a(268),Wn=a(900);var zn=Object(p.a)((function(e){return{secondaryBar:{paddingTop:e.spacing(1),paddingBottom:e.spacing(1)},menuButton:{marginLeft:-e.spacing(1)},avatar:{backgroundColor:"#D81E5B",fontSize:14}}}))((function(e){var t=e.classes,a=e.handleEvent,n=e.headerState;return r.a.createElement(v.a,{className:t.secondaryBar,color:"primary",position:"sticky",elevation:0},r.a.createElement(N.a,null,r.a.createElement(h.a,{container:!0,spacing:1,alignItems:"center"},r.a.createElement(St.a,{smUp:!0},r.a.createElement(h.a,{item:!0},r.a.createElement(A.a,{color:"inherit","aria-label":"open drawer",onClick:a("ON_DRAWER_TOGGLE"),className:t.menuButton},r.a.createElement(Vn.a,null)))),r.a.createElement(h.a,{item:!0,xs:!0},r.a.createElement(qt.a,{color:"inherit",variant:"h5",component:"h1"},n.text)),r.a.createElement(h.a,{item:!0,xs:!0}),r.a.createElement(h.a,{item:!0},r.a.createElement(Et.a,{href:"https://openinventoryorg.github.io/docs",variant:"outlined",color:"inherit",size:"small"},"Documentation")),r.a.createElement(h.a,{item:!0},r.a.createElement(_.a,{title:n.username},r.a.createElement(A.a,{color:"inherit",onClick:a("MENU_OPEN")},r.a.createElement(R.a,{alt:"User Avatar",className:t.avatar},n.letter))),r.a.createElement(Yn.a,{anchorEl:n.anchor,keepMounted:!0,open:Boolean(n.anchor),onClose:a("MENU_CLOSE")},r.a.createElement(dt.a,{key:"logout",onClick:a("SIGN_OUT")},r.a.createElement(Wn.a,null,r.a.createElement(b.u,null)),r.a.createElement(qt.a,{variant:"inherit"},"Logout")))))))}));var Hn=Object(E.i)((function(e){var t=e.onDrawerToggle,a=e.location,n=Fn.find((function(e){return a.pathname.startsWith(e.path)})),c=n?n.name:"Page Not Found",i=r.a.useState(null),l=Object(x.a)(i,2),s=l[0],u=l[1],m=Object(o.d)((function(e){return e.auth.user})),d=m.firstName.substring(0,1).toUpperCase(),E="".concat(m.firstName," ").concat(m.lastName),p=Object(o.c)(),f=function(e){u(e.currentTarget)},g=function(){u(null)},S=function(){p(Un()),g()},b={anchor:s,text:c,username:E,letter:d};return r.a.createElement(zn,{handleEvent:function(e){switch(e){case"MENU_OPEN":return f;case"MENU_CLOSE":return g;case"SET_ANCHOR_EL":return u;case"ON_DRAWER_TOGGLE":return t;case"SIGN_OUT":return S;default:return function(){}}},headerState:b})})),Qn=a(898);var Kn=a(2),Jn=a(89),Xn=function(e){return{categoryHeader:{paddingTop:e.spacing(2),paddingBottom:e.spacing(2)},categoryHeaderPrimary:{color:e.palette.common.white},item:{paddingTop:1,paddingBottom:1,color:"rgba(255, 255, 255, 0.7)","&:hover,&:focus":{backgroundColor:"rgba(255, 255, 255, 0.08)"}},itemCategory:{backgroundColor:"#D81E5B",boxShadow:"0 -1px 0 #404854 inset",paddingTop:e.spacing(2),paddingBottom:e.spacing(2)},firebase:{fontSize:24,color:e.palette.common.white},itemActiveItem:{color:"#FFFD98"},itemPrimary:{fontSize:"inherit"},itemIcon:{minWidth:"auto",marginRight:e.spacing(2)},divider:{marginTop:e.spacing(2)},image:{width:"100%",resizeMode:"cover"}}},Zn=[{id:"Dashboard",permissions:null,children:[{id:"Dashboard",icon:r.a.createElement(b.k,null),route:"/admin/dashboard"}]},{id:"Site Administration",permissions:["ADMINISTRATOR"],children:[{id:"Super Admin Dashboard",icon:r.a.createElement(b.i,null),route:"/superadmin"}]},{id:"User Administration",permissions:["ADMINISTRATOR"],children:[{id:"Create New Role",icon:r.a.createElement(b.D,null),route:"/admin/administration/roles/create"},{id:"Manage Roles",icon:r.a.createElement(b.e,null),route:"/admin/administration/roles/delete"},{id:"View Users",icon:r.a.createElement(b.H,null),route:"/admin/administration/users"},{id:"Add Supervisors",icon:r.a.createElement(b.H,null),route:"/admin/administration/supervisor/add"},{id:"View Supervisors",icon:r.a.createElement(b.H,null),route:"/admin/administration/supervisor/list"}]},{id:"Lab Management",permissions:["LAB_MANAGER"],children:[{id:"Create Laboratories",icon:r.a.createElement(b.r,null),route:"/admin/labs/createlabs"},{id:"View Laboratories",icon:r.a.createElement(b.s,null),route:"/admin/labs/labs"},{id:"Assign Staff Members",icon:r.a.createElement(b.r,null),route:"/admin/labs/assignstaff"}]},{id:"Item Management",permissions:["LAB_MANAGER","INVENTORY_MANAGER"],children:[{id:"Create Item Sets",icon:r.a.createElement(b.m,null),route:"/admin/lab/itemsets/create"},{id:"View Item Sets",icon:r.a.createElement(b.m,null),route:"/admin/itemset/list"},{id:"Create Items",icon:r.a.createElement(b.q,null),route:"/admin/items/create"},{id:"View Items",icon:r.a.createElement(b.q,null),route:"/admin/items/list"},{id:"Generate Barcode",icon:r.a.createElement(b.c,null),route:"/admin/items/generatebarcode"}]},{id:"Account Registration",permissions:["REGISTRAR"],children:[{id:"Invite Users",icon:r.a.createElement(b.z,null),route:"/admin/users/invite"},{id:"Retract Invitations",icon:r.a.createElement(b.x,null),route:"/admin/users/retract"}]},{id:"Inventory Management",permissions:["INVENTORY_MANAGER"],children:[{id:"Lend/Receive",icon:r.a.createElement(b.A,null),route:"/admin/lenditems/lend"},{id:"Temporary Handover",icon:r.a.createElement(b.f,null),route:"/admin/tempitems"}]}];var $n=function(e){var t=e.childId,a=e.icon,n=e.route,c=e.location,i=e.classes,l=n===c.pathname;return r.a.createElement(ht.a,{button:!0,component:d.b,to:n,className:Object(Kn.a)(l&&i.itemActiveItem,i.item)},r.a.createElement(Wn.a,{className:i.itemIcon},a),r.a.createElement(At.a,{classes:{primary:i.itemPrimary}},t))};var er=Object(E.i)(Object(p.a)(Xn)((function(e){var t=e.classes,a=e.location,n=Object(m.a)(e,["classes","location"]);"staticContext"in n&&delete n.staticContext;var c=Object(o.d)((function(e){return e.auth.user})),i=function(e){return null===e||0!==e.filter((function(e){return c.permissions.includes(e)})).length},l=[];return Zn.forEach((function(e){e.children.find((function(e){return e.route===a.pathname}))&&(l=e.permissions)})),l&&!i(l)?r.a.createElement(E.a,{push:!0,to:"/admin/dashboard"}):r.a.createElement(Jn.a,Object.assign({variant:"permanent"},n),r.a.createElement(Nt.a,{disablePadding:!0},r.a.createElement(ht.a,{className:Object(Kn.a)(t.firebase,t.itemCategory)},r.a.createElement("img",{src:"".concat("/web-frontend","/images/header.jpg"),alt:"Open Inventory Logo",className:t.image})),Zn.map((function(e){var n=e.id,c=e.children,l=e.permissions;return i(l)&&r.a.createElement(r.a.Fragment,{key:n},r.a.createElement(ht.a,{className:t.categoryHeader},r.a.createElement(At.a,{classes:{primary:t.categoryHeaderPrimary}},n)),c.map((function(e){var n=e.id,c=e.icon,i=e.route;return r.a.createElement($n,{key:n,childId:n,icon:c,route:i,location:a,classes:t})})),r.a.createElement(vt.a,{className:t.divider}))}))))}))),tr=function(){return{root:{maxWidth:936,margin:"auto",overflow:"hidden"},title:{fontSize:16,fontWeight:"bold"},wrapper:{padding:"16px"},image:{borderRadius:8,width:"50px"}}};function ar(e){var t=e.classes,a=e.labs,c=e.error,i=e.loading,l=e.onRefresh,o=Object(n.useState)(!1),s=Object(x.a)(o,2),m=s[0],d=s[1],E=Object(n.useState)([]),p=Object(x.a)(E,2),f=p[0],g=p[1],S=function(){return d(!1)};return r.a.createElement(w,{visible:i},r.a.createElement(I.a,{className:t.root},r.a.createElement(v.a,{position:"static",color:"inherit",elevation:0},r.a.createElement(N.a,null,r.a.createElement(h.a,{container:!0,spacing:2,alignItems:"center"},r.a.createElement(h.a,{item:!0,xs:!0},r.a.createElement("p",{className:t.title},"View Labs"))),r.a.createElement(h.a,{item:!0},r.a.createElement(_.a,{title:"Refresh Labs List"},r.a.createElement(A.a,{onClick:l},r.a.createElement(b.B,null)))))),r.a.createElement(h.a,{container:!0,direction:"column",alignItems:"stretch",className:t.wrapper},r.a.createElement(U,{success:null,error:c}),r.a.createElement(h.a,{item:!0},r.a.createElement(y.a,{px:2,pb:2},"Below the list of labs in the system are given.")),r.a.createElement(h.a,{item:!0},r.a.createElement(be,{columns:[{field:"image",sorting:!1,render:function(e){return null==e.image?r.a.createElement("img",{src:"https://via.placeholder.com/50",className:t.image,alt:e.id}):r.a.createElement(u.Image,{publicId:e.image,className:t.image})}},{title:"Title",field:"title",render:function(e){return r.a.createElement("b",null,e.title)}},{title:"Subtitle",field:"subtitle"},{title:"Created",field:"createdAt",searchable:!1,render:function(e){return r.a.createElement(_.a,{title:e.createdAt.toString()},r.a.createElement("i",null,ia()(e.createdAt).fromNow()))}},{title:"Last Updated",field:"updatedAt",searchable:!1,render:function(e){return r.a.createElement(_.a,{title:e.updatedAt.toString()},r.a.createElement("i",null,ia()(e.updatedAt).fromNow()))}},{title:"",type:"numeric",sorting:!1,render:function(e){return r.a.createElement(Et.a,{variant:"outlined",disabled:0===e.Users.length,onClick:(t=e,function(){g(t.Users),d(!0)}),startIcon:r.a.createElement(b.H,null)},"Managers");var t}}],data:a.map((function(e){var t=e.id,a=e.title,n=e.subtitle,r=e.image,c=e.createdAt,i=e.updatedAt,l=e.Users;return{id:t,title:Ie(a),subtitle:n,image:r,createdAt:c,updatedAt:i,Users:l}})),title:""})))),r.a.createElement(bt.a,{open:m,onClose:S,onExited:function(){d(!1),g([])},scroll:"paper"},r.a.createElement(It.a,null,"Assigned Lab Managers"),r.a.createElement(Nt.a,null,f.map((function(e){return r.a.createElement(ht.a,{button:!0,key:e.email},r.a.createElement(_t.a,null,r.a.createElement(R.a,{className:t.avatar},r.a.createElement(b.E,null))),r.a.createElement(At.a,{primary:"".concat(e.firstName," ").concat(e.lastName),secondary:e.email}))}))),r.a.createElement(yt.a,null,r.a.createElement(Et.a,{onClick:S,color:"primary"},"Close"))))}ar.defaultProps={error:null};var nr=Object(p.a)(tr)(ar);var rr=function(){var e=Object(o.c)(),t=Object(o.d)((function(e){return Object(S.a)(Object(S.a)({},e.adminLabManagement),{},{token:e.auth.token})})),a=t.labs,c=t.labsSyncLoading,i=t.labsSyncSuccess,l=t.labsSyncError,s=t.token;return Object(n.useEffect)((function(){c||i||l||e(Qt(s))}),[e,s,c,i,l]),r.a.createElement(nr,{loading:c,labs:a,error:l,onRefresh:function(){e(Qt(s))}})},cr=function(){return{root:{maxWidth:936,margin:"auto"},wrapper:{padding:20},item:{marginBottom:20},title:{fontSize:16,fontWeight:"bold"}}};function ir(e){var t=e.classes,a=e.onSubmit,n=e.validationSchema,c=e.loading,i=e.success,l=e.error;return r.a.createElement(w,{visible:c},r.a.createElement(I.a,{className:t.root},r.a.createElement(v.a,{position:"static",color:"inherit",elevation:0},r.a.createElement(N.a,null,r.a.createElement(h.a,{container:!0,spacing:2,alignItems:"center"},r.a.createElement(h.a,{item:!0,xs:!0},r.a.createElement("p",{className:t.title},"Add Supervisor"))))),r.a.createElement(h.a,{className:t.wrapper,container:!0,direction:"column",alignItems:"stretch"},r.a.createElement(U,{success:i,error:l}),r.a.createElement(h.a,{item:!0},r.a.createElement(y.a,{px:1,mb:2},"Add supervisor to the system by adding them to the email list.")),r.a.createElement(jt.d,{initialValues:{firstName:"",lastName:"",email:""},validationSchema:n,onSubmit:a},(function(e){var a=e.submitForm,n=e.isSubmitting;return r.a.createElement(jt.c,null,r.a.createElement(h.a,{className:t.item,item:!0},r.a.createElement(jt.a,{component:Dt.d,required:!0,label:"Enter Supervisor First Name",name:"firstName",variant:"outlined",type:"text",placeholder:"John",fullWidth:!0})),r.a.createElement(h.a,{className:t.item,item:!0},r.a.createElement(jt.a,{component:Dt.d,required:!0,label:"Enter Supervisor Last Name",name:"lastName",variant:"outlined",type:"text",placeholder:"Doe",fullWidth:!0})),r.a.createElement(h.a,{className:t.item,item:!0},r.a.createElement(jt.a,{component:Dt.d,required:!0,label:"Enter Supervisor Email",name:"email",variant:"outlined",type:"text",placeholder:"johndoe@ois.com",fullWidth:!0})),r.a.createElement(h.a,{item:!0},r.a.createElement(y.a,{textAlign:"right"},r.a.createElement(Et.a,{variant:"contained",color:"primary",disabled:n,onClick:a},"Add Supervisor"))))})))))}ir.defaultProps={error:null,success:null};var lr=Object(p.a)(cr)(ir);var or=function(){var e=Object(o.c)(),t=Object(o.d)((function(e){return Object(S.a)(Object(S.a)({},e.adminAdministration),{},{token:e.auth.token})})),a=t.supervisorCreateLoading,n=t.supervisorCreateError,c=t.supervisorCreateSuccess,i=t.token,l=Oe.e().shape({email:Oe.g().email().required("Required"),firstName:Oe.g().required("Required"),lastName:Oe.g().required("Required")});return r.a.createElement(lr,{onSubmit:function(t,a){var n=a.setSubmitting;e(function(e,t,a,n,r){return function(){var c=Object(ye.a)(Ae.a.mark((function c(i){var l,o;return Ae.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return o=function(e){i(Ve(e))},l=function(e){var t;e&&(t=e.data.message),t||(t="Server connection failed"),i(Ye(t))},i({type:"ADMIN_ADMINISTRATION_CREATE_SUPERVISOR_BEGIN"}),c.prev=3,c.next=6,Re.a.post("".concat(Ce).concat("/api/supervisors"),{firstName:t,lastName:a,email:n},{headers:{token:e}});case 6:if(200===c.sent.status){c.next=9;break}throw Error("Server responded with an error");case 9:o("Supervisor '".concat(t," ").concat(a,"' created successfully.")),r(),c.next=17;break;case 13:c.prev=13,c.t0=c.catch(3),l(c.t0.response),r();case 17:case"end":return c.stop()}}),c,null,[[3,13]])})));return function(e){return c.apply(this,arguments)}}()}(i,t.firstName,t.lastName,t.email,(function(){n(!1)})))},validationSchema:l,loading:a,success:c,error:n})},sr=function(){return{root:{maxWidth:936,margin:"auto",overflow:"hidden"},title:{fontSize:16,fontWeight:"bold"},wrapper:{padding:"16px"}}};function ur(e){var t=e.classes,a=e.supervisors,n=e.error,c=e.loading,i=e.onRefresh,l=e.success;return r.a.createElement(w,{visible:c},r.a.createElement(I.a,{className:t.root},r.a.createElement(v.a,{position:"static",color:"inherit",elevation:0},r.a.createElement(N.a,null,r.a.createElement(h.a,{container:!0,spacing:2,alignItems:"center"},r.a.createElement(h.a,{item:!0,xs:!0},r.a.createElement("p",{className:t.title},"View Supervisors"))),r.a.createElement(h.a,{item:!0},r.a.createElement(_.a,{title:"Refresh Supervisors List"},r.a.createElement(A.a,{onClick:i},r.a.createElement(b.B,null)))))),r.a.createElement(h.a,{container:!0,direction:"column",alignItems:"stretch",className:t.wrapper},r.a.createElement(U,{success:l,error:n}),r.a.createElement(h.a,{item:!0},r.a.createElement(y.a,{px:2,pb:2},"Below the list of supervisors in the system are given. Invite Users to add supervisors to the syetem.")),r.a.createElement(h.a,{item:!0},r.a.createElement(be,{columns:[{title:"Name",field:"name"},{title:"Email",field:"email"}],data:a.map((function(e){var t=e.id,a=e.firstName,n=e.lastName,r=e.email;return{id:t,name:"".concat(a," ").concat(n),email:r}})),title:""})))))}ur.defaultProps={error:null,success:null};var mr=Object(p.a)(sr)(ur);var dr=function(){var e=Object(o.c)(),t=Object(o.d)((function(e){return Object(S.a)(Object(S.a)({},e.adminAdministration),{},{token:e.auth.token})})),a=t.supervisors,c=t.supervisorsSyncLoading,i=t.supervisorsSyncSuccess,l=t.supervisorsSyncError,s=t.supervisorDeleteLoading,u=t.supervisorDeleteSuccess,m=t.supervisorDeleteError,d=t.token;return Object(n.useEffect)((function(){c||i||l||e(He(d))}),[e,d,c,i,l]),r.a.createElement(mr,{loading:c||s,supervisors:a,error:m||l,onRefresh:function(){e(He(d))},deleteSupervisor:function(t){var a=t.id,n=t.name;e(function(e,t){var a=t.id,n=t.name;return function(){var t=Object(ye.a)(Ae.a.mark((function t(r){var c,i;return Ae.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=function(t){r(Qe(t)),r(He(e))},c=function(e){var t;e&&(t=e.data.message),t||(t="Server connection failed"),r(Ke(t))},r({type:"ADMIN_ADMINISTRATION_DELETE_SUPERVISOR_BEGIN"}),t.prev=3,t.next=6,Re.a.delete("".concat(Ce).concat("/api/supervisors","/").concat(a),{headers:{token:e}});case 6:if(200===t.sent.status){t.next=9;break}throw Error("Server responded with an error");case 9:i("Supervisor '".concat(n,"' deleted successfully.")),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(3),c(t.t0.response);case 15:case"end":return t.stop()}}),t,null,[[3,12]])})));return function(e){return t.apply(this,arguments)}}()}(d,{id:a,name:n}))},success:u})},Er=a(166),pr=a(167),fr=a(544),gr=a(542),Sr=a(371),br=a(539),Ir=a.n(br),vr=function(){return{root:{maxWidth:936,margin:"auto",overflow:"hidden"},title:{fontSize:16,fontWeight:"bold"},wrapper:{padding:"16px"},margin:{marginRight:5}}},Nr=function(e){Object(fr.a)(a,e);var t=Object(gr.a)(a);function a(){return Object(Er.a)(this,a),t.apply(this,arguments)}return Object(pr.a)(a,[{key:"render",value:function(){var e=this.props.barcode;return null==e?r.a.createElement(r.a.Fragment,null,r.a.createElement(y.a,{height:80}),r.a.createElement(qt.a,{style:{fontSize:18}},"Generate New Barcode from Button Below"),r.a.createElement(y.a,{height:80})):r.a.createElement(Ir.a,{value:e})}}]),a}(r.a.Component);Nr.defaultProps={barcode:null};var hr=Object(p.a)(vr)((function(e){var t=e.classes,a=function(){var e=Math.pow(10,14),t=Math.floor(e+9*Math.random()*e);return"gen".concat(t)},c=Object(n.useState)(a()),i=Object(x.a)(c,2),l=i[0],o=i[1],s=Object(n.useRef)();return r.a.createElement(I.a,{className:t.root},r.a.createElement(v.a,{position:"static",color:"inherit",elevation:0},r.a.createElement(N.a,null,r.a.createElement(h.a,{container:!0,spacing:2,alignItems:"center"},r.a.createElement(h.a,{item:!0,xs:!0},r.a.createElement("p",{className:t.title},"Generate Barcode"))))),r.a.createElement(h.a,{container:!0,direction:"column",alignItems:"stretch",className:t.wrapper},r.a.createElement(h.a,{item:!0},r.a.createElement(y.a,{px:2,pb:2},"Create random bar codes and print them.")),r.a.createElement(y.a,{textAlign:"center",py:2},r.a.createElement(Nr,{ref:s,barcode:l})),r.a.createElement(h.a,{item:!0},r.a.createElement(y.a,{py:1,textAlign:"center"},r.a.createElement(Et.a,{className:t.margin,variant:"contained",color:"primary",onClick:function(){o(a())}},"Generate New Barcode"),r.a.createElement(Et.a,{className:t.margin,variant:"contained",color:"default",onClick:function(){return navigator.clipboard.writeText(l)}},"Copy Barcode"),r.a.createElement(Et.a,{className:t.margin,variant:"contained",color:"default",onClick:function(){return Object(Sr.exportComponentAsPDF)(s)}},"Export as PDF"),r.a.createElement(Et.a,{variant:"contained",color:"default",onClick:function(){return Object(Sr.exportComponentAsJPEG)(s)}},"Export as Image")))))}));function _r(){var e=Object(E.h)();return r.a.createElement(E.d,null,r.a.createElement(E.b,{exact:!0,path:"".concat(e.url,"/administration/users")},r.a.createElement(Je,null)),r.a.createElement(E.b,{exact:!0,path:"".concat(e.url,"/dashboard")},r.a.createElement(Ze,null)),r.a.createElement(E.b,{exact:!0,path:"".concat(e.url,"/users/invite")},r.a.createElement(Lt,null)),r.a.createElement(E.b,{exact:!0,path:"".concat(e.url,"/labs/createlabs")},r.a.createElement(aa,null)),r.a.createElement(E.b,{exact:!0,path:"".concat(e.url,"/labs/assignstaff")},r.a.createElement(En,null)),r.a.createElement(E.b,{exact:!0,path:"".concat(e.url,"/users/retract")},r.a.createElement(ua,null)),r.a.createElement(E.b,{exact:!0,path:"".concat(e.url,"/administration/roles/create")},r.a.createElement(ba,null)),r.a.createElement(E.b,{exact:!0,path:"".concat(e.url,"/administration/roles/delete")},r.a.createElement(ha,null)),r.a.createElement(E.b,{exact:!0,path:"".concat(e.url,"/lab/itemsets/create")},r.a.createElement(Ja,null)),r.a.createElement(E.b,{exact:!0,path:"".concat(e.url,"/labs/labs")},r.a.createElement(rr,null)),r.a.createElement(E.b,{exact:!0,path:"".concat(e.url,"/itemset/list")},r.a.createElement(en,null)),r.a.createElement(E.b,{exact:!0,path:"".concat(e.url,"/items/create")},r.a.createElement(An,null)),r.a.createElement(E.b,{exact:!0,path:"".concat(e.url,"/items/list")},r.a.createElement(ln,null)),r.a.createElement(E.b,{exact:!0,path:"".concat(e.url,"/lenditems/lend")},r.a.createElement(On,null)),r.a.createElement(E.b,{exact:!0,path:"".concat(e.url,"/items/generatebarcode")},r.a.createElement(hr,null)),r.a.createElement(E.b,{exact:!0,path:"".concat(e.url,"/administration/supervisor/add")},r.a.createElement(or,null)),r.a.createElement(E.b,{exact:!0,path:"".concat(e.url,"/administration/supervisor/list")},r.a.createElement(dr,null)),r.a.createElement(E.b,{exact:!0,path:"".concat(e.url,"/tempitems")},r.a.createElement(wn,null)),r.a.createElement(E.b,null,r.a.createElement(g,null)))}var Ar=a(82);var yr=Object(p.a)((function(e){return{root:{display:"flex",minHeight:"100vh"},drawer:Object(Ar.a)({},e.breakpoints.up("sm"),{width:256,flexShrink:0}),app:{flex:1,display:"flex",flexDirection:"column"},main:{flex:1,padding:e.spacing(6,4),background:'url("'.concat("/web-frontend",'/images/admin_wallpaper.png")'),backgroundRepeat:"no-repeat",backgroundAttachment:"fixed",backgroundPosition:"center",backgroundSize:"stretch"}}}))((function(e){var t=e.classes,a=r.a.useState(!1),n=Object(x.a)(a,2),c=n[0],i=n[1],l=function(){i(!c)};return r.a.createElement("div",{className:t.root},r.a.createElement(xn.a,null),r.a.createElement("nav",{className:t.drawer},r.a.createElement(St.a,{smUp:!0,implementation:"js"},r.a.createElement(er,{PaperProps:{style:{width:256}},variant:"temporary",open:c,onClose:l})),r.a.createElement(St.a,{xsDown:!0,implementation:"css"},r.a.createElement(er,{PaperProps:{style:{width:256}}}))),r.a.createElement("div",{className:t.app},r.a.createElement(Hn,{onDrawerToggle:l}),r.a.createElement("main",{className:t.main},r.a.createElement(_r,null))))})),Tr=a(889),Rr=a(890),Or=a(470),Mr=function(e){return{root:{background:'url("'.concat("/web-frontend",'/images/admin_wallpaper.png")'),backgroundRepeat:"no-repeat",backgroundAttachment:"fixed",backgroundPosition:"center",backgroundSize:"stretch"},margin:{marginBottom:e.spacing(1),marginTop:e.spacing(1)},padding:{padding:e.spacing(1)},textField:{minWidth:300},paragraph:{fontSize:12},warning:{color:"red"},buttonGrid:{textAlign:"right"}}};function Cr(e){var t=e.classes,a=e.validationSchema,n=e.onSubmit,c=e.error,i=e.loading;return r.a.createElement(w,{visible:i},r.a.createElement(h.a,{className:t.root,container:!0,spacing:0,direction:"column",alignItems:"center",justify:"center",style:{minHeight:"100vh"}},r.a.createElement(h.a,{item:!0},r.a.createElement(jt.d,{initialValues:{email:"",password:""},validationSchema:a,onSubmit:n},(function(e){var a=e.submitForm,n=e.isSubmitting;return r.a.createElement(jt.c,null,r.a.createElement(Tr.a,null,r.a.createElement(y.a,{mx:1},r.a.createElement(Rr.a,{className:t.padding},r.a.createElement(h.a,{className:t.textField},r.a.createElement("h2",null,"Sign In"),r.a.createElement("p",{className:t.paragraph},"Please sign in to continue from where you left off"),c&&r.a.createElement(j.a,{severity:"error"},c)),r.a.createElement(vt.a,{className:t.margin}),r.a.createElement(h.a,null,r.a.createElement(jt.a,{className:Object(Kn.a)(t.margin,t.textField),component:Dt.d,required:!0,name:"email",label:"Email",variant:"outlined",type:"email",placeholder:"youremail@mail.com",InputProps:{startAdornment:r.a.createElement(Or.a,{position:"start"},r.a.createElement(b.v,null))}})),r.a.createElement(h.a,null,r.a.createElement(jt.a,{className:Object(Kn.a)(t.margin,t.textField),component:Dt.d,required:!0,name:"password",label:"Password",variant:"outlined",type:"password",placeholder:"mypassword",InputProps:{startAdornment:r.a.createElement(Or.a,{position:"start"},r.a.createElement(b.t,null))}})),r.a.createElement(h.a,{className:t.buttonGrid},r.a.createElement(Et.a,{variant:"contained",color:"secondary",disabled:n,onClick:a},"Sign In"))))))})))))}Cr.defaultProps={error:null};var kr=Object(p.a)(Mr)(Cr);var wr=function(){var e=Oe.e().shape({email:Oe.g().email("Invalid email").required("Required"),password:Oe.g().required("Required")}),t=Object(o.c)(),a=Object(o.d)((function(e){return e.auth})),n=a.signIn,c=a.user,i=n.error,l=n.loading;return c?r.a.createElement(E.a,{push:!0,to:"/admin/dashboard"}):r.a.createElement(kr,{validationSchema:e,error:i,onSubmit:function(e,a){var n=a.setSubmitting;t(function(e,t){var a=e.email,n=e.password;return function(){var e=Object(ye.a)(Ae.a.mark((function e(r){var c,i,l;return Ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=function(e){try{var t=jn.validateSync(e.data);"Student"===t.user.role?r(Ln("You are not authorized.")):r({type:"SIGN_IN_SUCCESS",payload:{user:(a=t).user,token:a.token}})}catch(n){r(Ln("Server connection failed. Please check your connection."))}var a},c=function(e){var t;e&&(t=e.data.message),t||(t="Server connection failed"),r(Ln(t))},r({type:"SIGN_IN_BEGIN"}),e.prev=3,e.next=6,Re.a.post("".concat(Ce).concat("/api/login"),{email:a,password:n});case 6:l=e.sent,t(),i(l),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(3),t(),c(e.t0.response);case 15:case"end":return e.stop()}}),e,null,[[3,11]])})));return function(t){return e.apply(this,arguments)}}()}(e,(function(){return n(!1)})))},loading:l})},xr=function(e){return{root:{background:'url("'.concat("/web-frontend",'/images/admin_wallpaper.png")'),backgroundRepeat:"no-repeat",backgroundAttachment:"fixed",backgroundPosition:"center",backgroundSize:"stretch"},margin:{marginBottom:e.spacing(1),marginTop:e.spacing(1)},padding:{padding:e.spacing(1)},textField:{minWidth:400},paragraph:{fontSize:14},warning:{color:"red"},buttonGrid:{textAlign:"right"}}};var Lr=function(e,t){return e?r.a.createElement(r.a.Fragment,null,"You have been offered the role of\xa0",r.a.createElement("b",null,e),".",r.a.createElement("br",null),"Please sign up to create an account and get started."):t?r.a.createElement(r.a.Fragment,null,"Please wait..."):r.a.createElement(r.a.Fragment,null,"Something went wrong!",r.a.createElement("br",null),"Please contact system administrators for further assist.")};var jr=Object(p.a)(xr)((function(e){var t=e.classes,a=e.validationSchema,n=e.onSubmit,c=e.signUpPageState,i=c.invitationOwner,l=c.requestingInvitation,o=c.loading,s=c.error,u="",m="";return i&&(u=i.email,m=i.Role.name),r.a.createElement(w,{visible:l||o},r.a.createElement(h.a,{className:t.root,container:!0,spacing:0,direction:"column",alignItems:"center",justify:"center",style:{minHeight:"100vh"}},r.a.createElement(h.a,{item:!0},r.a.createElement(jt.d,{initialValues:{firstName:"",lastName:"",password:"",retypePassword:""},validationSchema:a,onSubmit:n},(function(e){var a=e.submitForm,n=e.isSubmitting;return r.a.createElement(jt.c,null,r.a.createElement(Tr.a,null,r.a.createElement(y.a,{mx:1},r.a.createElement(Rr.a,{className:t.padding},r.a.createElement(h.a,{className:t.textField},r.a.createElement("h2",null,"Complete Your Registration"),r.a.createElement("p",{className:t.paragraph},Lr(m,o||l)),s&&r.a.createElement(j.a,{severity:"error"},s)),r.a.createElement(vt.a,{className:t.margin}),r.a.createElement(h.a,null,r.a.createElement(gt.a,{className:Object(Kn.a)(t.margin,t.textField),disabled:!0,value:u,label:"Email",variant:"outlined",type:"email",placeholder:"Token invalid",InputProps:{readOnly:!0,startAdornment:r.a.createElement(Or.a,{position:"start"},r.a.createElement(b.v,null))}})),r.a.createElement(h.a,null,r.a.createElement(jt.a,{className:Object(Kn.a)(t.margin,t.textField),component:Dt.d,required:!0,name:"firstName",label:"First Name",variant:"outlined",type:"text",placeholder:"John",InputProps:{startAdornment:r.a.createElement(Or.a,{position:"start"},r.a.createElement(b.E,null))}})),r.a.createElement(h.a,null,r.a.createElement(jt.a,{className:Object(Kn.a)(t.margin,t.textField),component:Dt.d,required:!0,name:"lastName",label:"Last Name",variant:"outlined",type:"text",placeholder:"Doe",InputProps:{startAdornment:r.a.createElement(Or.a,{position:"start"},r.a.createElement(b.E,null))}})),r.a.createElement(h.a,null,r.a.createElement(jt.a,{className:Object(Kn.a)(t.margin,t.textField),component:Dt.d,required:!0,name:"password",label:"Password",variant:"outlined",type:"password",placeholder:"mypassword",InputProps:{startAdornment:r.a.createElement(Or.a,{position:"start"},r.a.createElement(b.t,null))}})),r.a.createElement(h.a,null,r.a.createElement(jt.a,{className:Object(Kn.a)(t.margin,t.textField),component:Dt.d,required:!0,name:"retypePassword",label:"Retype Password",variant:"outlined",type:"password",placeholder:"mypassword",InputProps:{startAdornment:r.a.createElement(Or.a,{position:"start"},r.a.createElement(b.t,null))}})),r.a.createElement(h.a,{className:t.buttonGrid},r.a.createElement(Et.a,{variant:"contained",color:"secondary",disabled:n,onClick:a},"Register"))))))})))))})),Dr=Oe.e().shape({firstName:Oe.g().required("Required"),lastName:Oe.g().required("Required"),password:Oe.g().required("Required"),retypePassword:Oe.g().oneOf([Oe.f("password"),null,""],"Passwords must match").required("Required")});var Ur=Object(E.i)((function(e){var t=e.history,a=Object(o.c)(),c=Object(o.d)((function(e){return e.auth.signUp})),i=c.requestingInvitation,l=c.loading,s=c.error,u=c.invitationActivated,m=c.invitationOwner,d=Object(E.g)().registrationToken;return Object(n.useEffect)((function(){var e;u?(a(Bn()),t.push("/login")):a((e=d,function(){var t=Object(ye.a)(Ae.a.mark((function t(a){var n,r,c;return Ae.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=function(e){try{var t=Gn.validateSync(e.data);a({type:"AUTH_REQUEST_INVITATION_SUCCESS",payload:{email:(n=t).email,roleId:n.roleId,Role:n.Role}})}catch(r){a(qn("Server connection failed. Please check your connection."))}var n},n=function(e){var t;e&&(t=e.data.message),t||(t="Server connection failed"),a(qn(t))},a({type:"AUTH_REQUEST_INVITATION_BEGIN"}),t.prev=3,t.next=6,Re.a.get("".concat(Ce).concat("/api/registration/verify","/").concat(e));case 6:c=t.sent,r(c),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(3),n(t.t0.response);case 13:case"end":return t.stop()}}),t,null,[[3,10]])})));return function(e){return t.apply(this,arguments)}}()))}),[u,d,a,t]),r.a.createElement(jr,{validationSchema:Dr,onSubmit:function(e,t){var n=t.setSubmitting;a(function(e,t){var a=e.token,n=e.email,r=e.firstName,c=e.lastName,i=e.password;return function(){var e=Object(ye.a)(Ae.a.mark((function e(l){var o,s;return Ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=function(){l({type:"AUTH_SIGN_UP_SUCCESS"})},o=function(e){var t;e&&(t=e.data.message),t||(t="Server connection failed"),l(Dn(t))},l({type:"AUTH_SIGN_UP_BEGIN"}),e.prev=3,e.next=6,Re.a.post("".concat(Ce).concat("/api/registration/register"),{token:a,email:n,firstName:r,lastName:c,password:i});case 6:t(),s(),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(3),t(),o(e.t0.response);case 14:case"end":return e.stop()}}),e,null,[[3,10]])})));return function(t){return e.apply(this,arguments)}}()}({token:d,firstName:e.firstName,lastName:e.lastName,password:e.password},(function(){n(!1)})))},signUpPageState:{requestingInvitation:i,error:s,loading:l,invitationOwner:m}})})),qr=a(467),Gr=a(891),Br=a(8),Fr={h1:"h1",h2:"h1",h3:"h1",h4:"h1",h5:"h3",h6:"h2",subtitle1:"h3"};function Pr(e){var t=e.children,a=e.classes,n=e.marked,c=void 0!==n&&n,i=e.variant,l=Object(m.a)(e,["children","classes","marked","variant"]);return r.a.createElement(qt.a,Object.assign({variantMapping:Fr,variant:i},l),t,c?r.a.createElement("span",{className:a["marked".concat(Object(Br.a)(i)+Object(Br.a)(c))]}):null)}Pr.defaultProps={children:"",marked:!1,variant:null};var Vr=Object(p.a)((function(e){return{markedH2Center:{height:4,width:73,display:"block",margin:"".concat(e.spacing(1),"px auto 0"),backgroundColor:e.palette.secondary.main},markedH3Center:{height:4,width:55,display:"block",margin:"".concat(e.spacing(1),"px auto 0"),backgroundColor:e.palette.secondary.main},markedH4Center:{height:4,width:55,display:"block",margin:"".concat(e.spacing(1),"px auto 0"),backgroundColor:e.palette.secondary.main},markedH6Left:{height:2,width:28,display:"block",marginTop:e.spacing(.5),background:"currentColor"}}}))(Pr);function Yr(){return r.a.createElement(r.a.Fragment,null,"\xa9 ",r.a.createElement(Qn.a,{color:"inherit",href:"https://openinventoryorg.github.io/web-frontend/"},"Open Inventory Systems\xa0"),(new Date).getFullYear())}var Wr=Object(qr.a)((function(e){return{root:{display:"flex",backgroundColor:e.palette.primary.main,color:"#fff"},container:{marginTop:e.spacing(8),marginBottom:e.spacing(8),display:"flex"},iconsWrapper:{height:120},icons:{display:"flex"},icon:{color:"#fff",width:48,height:48,display:"flex",justifyContent:"center",alignItems:"center",marginRight:e.spacing(1),"&:hover":{backgroundColor:e.palette.secondary.dark}},list:{margin:0,listStyle:"none",padding:0},listItem:{paddingTop:e.spacing(.5),paddingBottom:e.spacing(.5)},link:{color:"#fff"}}}));function zr(){var e=Wr();return r.a.createElement(Vr,{component:"footer",className:e.root},r.a.createElement(Gr.a,{className:e.container},r.a.createElement(h.a,{container:!0,spacing:5},r.a.createElement(h.a,{item:!0,xs:6,sm:4,md:3},r.a.createElement(h.a,{container:!0,direction:"column",justify:"flex-end",className:e.iconsWrapper,spacing:2},r.a.createElement(h.a,{item:!0,className:e.icons},r.a.createElement("a",{href:"https://twitter.com/",className:e.icon},r.a.createElement(b.C,{size:24})),r.a.createElement("a",{href:"https://facebook.com",className:e.icon},r.a.createElement(b.p,{size:24}))),r.a.createElement(h.a,{item:!0},r.a.createElement(Yr,null)))),r.a.createElement(h.a,{item:!0,xs:6,sm:4,md:2},r.a.createElement(Vr,{variant:"h6",marked:"left",gutterBottom:!0},"Legal"),r.a.createElement("ul",{className:e.list},r.a.createElement("li",{className:e.listItem},r.a.createElement(Qn.a,{className:e.link,href:"/"},"Terms")),r.a.createElement("li",{className:e.listItem},r.a.createElement(Qn.a,{className:e.link,href:"/"},"Privacy")))),r.a.createElement(h.a,{item:!0,xs:6,sm:8,md:4},r.a.createElement(Vr,{variant:"h6",marked:"left",gutterBottom:!0},"Meta"),r.a.createElement("ul",{className:e.list},r.a.createElement("li",{className:e.listItem},r.a.createElement(Qn.a,{className:e.link,href:"/"},"Login")),r.a.createElement("li",{className:e.listItem},r.a.createElement(Qn.a,{className:e.link,href:"/"},"Admin Dashboard")))))))}var Hr=Object(p.a)((function(e){return{root:{borderRadius:0,fontWeight:e.typography.fontWeightMedium,fontFamily:e.typography.fontFamilySecondary,padding:e.spacing(2,4),fontSize:e.typography.pxToRem(14),boxShadow:"none","&:active, &:focus":{boxShadow:"none"}},sizeSmall:{padding:e.spacing(1,3),fontSize:e.typography.pxToRem(13)},sizeLarge:{padding:e.spacing(2,5),fontSize:e.typography.pxToRem(16)}}}))(Et.a);var Qr=Object(p.a)((function(e){return{root:Object(Ar.a)({color:e.palette.common.white,position:"relative",display:"flex",alignItems:"center"},e.breakpoints.up("sm"),{height:"80vh",minHeight:500,maxHeight:1300}),container:{marginTop:e.spacing(3),marginBottom:e.spacing(14),display:"flex",flexDirection:"column",alignItems:"center"},background:{position:"absolute",left:0,right:0,top:0,bottom:0,backgroundSize:"cover",backgroundRepeat:"no-repeat",zIndex:-2},arrowDown:{position:"absolute",bottom:e.spacing(4)}}}))((function(e){var t=e.backgroundClassName,a=e.children,n=e.classes;return r.a.createElement("section",{className:n.root},r.a.createElement(Gr.a,{className:n.container},r.a.createElement("img",{src:"".concat("/web-frontend","/images/whitedots.png"),alt:"wonder",width:"147",height:"80"}),a,r.a.createElement("div",{className:Object(Kn.a)(n.background,t)}),r.a.createElement(b.b,{className:n.arrowDown,size:16})))}));var Kr=Object(p.a)((function(e){return{background:{backgroundImage:"url(".concat("/images/home.png",")"),backgroundColor:"#23395B",backgroundPosition:"center",backgroundSize:"cover"},button:{minWidth:200},h5:Object(Ar.a)({marginBottom:e.spacing(4),marginTop:e.spacing(4)},e.breakpoints.up("sm"),{marginTop:e.spacing(10)}),more:{marginTop:e.spacing(2)}}}))((function(e){var t=e.classes,a={text:"Sign In",url:"#/login"};return Object(o.d)((function(e){return e.auth.user}))&&(a={text:"Admin Console",url:"#/admin/dashboard"}),r.a.createElement(Qr,{backgroundClassName:t.background},r.a.createElement("img",{style:{display:"none"},src:"".concat("/web-frontend","/").concat("/images/home.png"),alt:"increase priority"}),r.a.createElement(Vr,{color:"inherit",align:"center",variant:"h2",marked:"center"},"Digitalize Lab Management"),r.a.createElement(Vr,{color:"inherit",align:"center",variant:"h5",className:t.h5},"Use the service to manage labs more easily. Especially tuned for computer laboratories."),r.a.createElement(Hr,{color:"secondary",variant:"contained",size:"large",className:t.button,component:"a",href:a.url},a.text),r.a.createElement(Vr,{variant:"body2",color:"inherit",className:t.more},"Automate and Digitalize"))}));var Jr=Object(p.a)((function(e){return{root:{display:"flex",overflow:"hidden",backgroundColor:e.palette.secondary.light},container:{marginTop:e.spacing(15),marginBottom:e.spacing(15),display:"flex",position:"relative"},item:{display:"flex",flexDirection:"column",alignItems:"center",padding:e.spacing(0,5)},icon:{height:60,width:60},title:{marginTop:e.spacing(5),marginBottom:e.spacing(5)},text:{fontSize:18,fontWeight:300,textAlign:"center"},curvyLines:{pointerEvents:"none",position:"absolute",top:-180}}}))((function(e){var t=e.classes;return r.a.createElement("section",{className:t.root},r.a.createElement(Gr.a,{className:t.container},r.a.createElement(h.a,{container:!0,spacing:5},r.a.createElement(h.a,{item:!0,xs:12,md:4},r.a.createElement("div",{className:t.item},r.a.createElement(b.j,{className:t.icon}),r.a.createElement(Vr,{variant:"h5",className:t.title},"Time Saving"),r.a.createElement(Vr,{className:t.text},"This is the time to reduce paperwork for inventory management system and save our time."))),r.a.createElement(h.a,{item:!0,xs:12,md:4},r.a.createElement("div",{className:t.item},r.a.createElement(b.i,{className:t.icon}),r.a.createElement(Vr,{variant:"h5",className:t.title},"More efficient"),r.a.createElement(Vr,{className:t.text},"Open inventory system supports more efficient way to lend a lab item without going place to place."))),r.a.createElement(h.a,{item:!0,xs:12,md:4},r.a.createElement("div",{className:t.item},r.a.createElement(b.a,{className:t.icon}),r.a.createElement(Vr,{variant:"h5",className:t.title},"Free of charge"),r.a.createElement(Vr,{className:t.text},"Open inventory system is open source project. So anyone can experience this application."))))))}));var Xr=Object(p.a)((function(e){return{root:{display:"flex",backgroundColor:"#ABDFC1",overflow:"hidden"},container:{marginTop:e.spacing(10),marginBottom:e.spacing(15),position:"relative",display:"flex",flexDirection:"column",alignItems:"center"},item:{display:"flex",flexDirection:"column",alignItems:"center",padding:e.spacing(0,5)},title:{marginBottom:e.spacing(10)},number:{fontSize:30,fontFamily:e.typography.fontFamily,color:e.palette.secondary.main,fontWeight:e.typography.fontWeightMedium},image:{height:55,marginTop:e.spacing(4),marginBottom:e.spacing(4)},bottomText:{fontSize:18,textAlign:"center"},text:{fontWeight:300,fontSize:18,textAlign:"center"},curvyLines:{pointerEvents:"none",position:"absolute",top:-180,opacity:.7},button:{marginTop:e.spacing(8)},icon:{height:60,width:60,marginTop:e.spacing(2),marginBottom:e.spacing(4)}}}))((function(e){var t=e.classes;return r.a.createElement("section",{className:t.root},r.a.createElement(Gr.a,{className:t.container},r.a.createElement(Vr,{variant:"h4",marked:"center",className:t.title,component:"h2"},"How it works"),r.a.createElement("div",null,r.a.createElement(h.a,{container:!0,spacing:5},r.a.createElement(h.a,{item:!0,xs:12,md:4},r.a.createElement("div",{className:t.item},r.a.createElement("div",{className:t.number},"1."),r.a.createElement(b.v,{className:t.icon}),r.a.createElement(Vr,{className:t.text},"Accept the invitation sent to your email from the Lab Administrators."))),r.a.createElement(h.a,{item:!0,xs:12,md:4},r.a.createElement("div",{className:t.item},r.a.createElement("div",{className:t.number},"2."),r.a.createElement(b.n,{className:t.icon}),r.a.createElement(Vr,{className:t.text},"Download Mobile Application from Following Link."))),r.a.createElement(h.a,{item:!0,xs:12,md:4},r.a.createElement("div",{className:t.item},r.a.createElement("div",{className:t.number},"3."),r.a.createElement(b.t,{className:t.icon}),r.a.createElement(Vr,{className:t.text},"Enter server address and credentials to start using the system via Mobile Devices."))))),r.a.createElement(Hr,{color:"secondary",size:"large",variant:"contained",className:t.button,component:"a",href:"https://openinventoryorg.github.io/web-frontend/app/openinventory.apk"},"Download Mobile App"),r.a.createElement(y.a,{pt:2},r.a.createElement(Vr,{className:t.bottomText},"Server address of this website:\xa0",Ce))))}));var Zr=Object(p.a)((function(e){return{root:{display:"flex",flexDirection:"column",alignItems:"center",paddingTop:e.spacing(9),paddingBottom:e.spacing(9),backgroundColor:e.palette.primary.main},button:{border:"4px solid #fff",color:"#FFF",borderRadius:0,height:"auto",padding:e.spacing(2,5)},link:{fontSize:22,color:"#FFF",marginTop:e.spacing(3),marginBottom:e.spacing(3)}}}))((function(e){var t=e.classes;return r.a.createElement("section",{className:t.root},r.a.createElement(Et.a,{className:t.button,href:"https://openinventoryorg.github.io/docs/",target:"_blank"},r.a.createElement(Vr,{variant:"h4",component:"span"},"Need Help to Get Started?")),r.a.createElement(Vr,{variant:"subtitle1",className:t.link},"Visit our documentation and get started!"))}));var $r=Object(p.a)((function(e){return{root:{color:e.palette.common.white}}}))((function(e){return r.a.createElement(v.a,Object.assign({elevation:0,position:"static"},e))})),ec=function(e){return{root:Object(Ar.a)({height:64},e.breakpoints.up("sm"),{height:70})}},tc=Object(p.a)(ec)(N.a);var ac=Object(p.a)((function(e){return{title:{fontSize:24},placeholder:ec(e).root,toolbar:{justifyContent:"space-between"},left:{flex:1},leftLinkActive:{color:e.palette.common.white},right:{flex:1,display:"flex",justifyContent:"flex-end"},rightLink:{fontSize:16,color:e.palette.common.white,marginLeft:e.spacing(3)},linkSecondary:{color:e.palette.secondary.main}}}))((function(e){var t=e.classes,a={text:"Sign In",url:"#/login"};return Object(o.d)((function(e){return e.auth.user}))&&(a={text:"Admin Console",url:"#/admin/dashboard"}),r.a.createElement("div",null,r.a.createElement($r,{position:"fixed"},r.a.createElement(tc,{className:t.toolbar},r.a.createElement("div",{className:t.left}),r.a.createElement(Qn.a,{variant:"h6",underline:"none",color:"inherit",className:t.title,href:"/"},"Open Inventory"),r.a.createElement("div",{className:t.right},r.a.createElement(Qn.a,{color:"inherit",variant:"h6",underline:"none",className:t.rightLink,href:"https://openinventoryorg.github.io/docs/"},"Documentation"),r.a.createElement(Qn.a,{color:"inherit",variant:"h6",underline:"none",className:t.rightLink,href:a.url},a.text)))),r.a.createElement("div",{className:t.placeholder}))}));var nc=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(xn.a,null),r.a.createElement(ac,null),r.a.createElement(Kr,null),r.a.createElement(Jr,null),r.a.createElement(Zr,null),r.a.createElement(Xr,null),r.a.createElement(zr,null))},rc=a(903),cc=a(885),ic=function(e){return{root:{background:'url("'.concat("/web-frontend",'/images/admin_wallpaper.png")'),backgroundRepeat:"no-repeat",backgroundAttachment:"fixed",backgroundPosition:"center",backgroundSize:"stretch"},margin:{marginBottom:e.spacing(1),marginTop:e.spacing(1)},padding:{padding:e.spacing(1)},paragraph:{fontSize:14},warning:{color:"red"},buttonGrid:{textAlign:"right"},row:{maxWidth:936}}};function lc(e){var t=e.title,a=e.subtitle,n=e.icon;return r.a.createElement(ht.a,null,r.a.createElement(_t.a,null,r.a.createElement(R.a,null,n)),r.a.createElement(At.a,{primary:t,secondary:a}))}function oc(e){var t=e.children,a=e.value,n=e.index;return r.a.createElement("div",{role:"tabpanel",hidden:a!==n,id:"simple-tabpanel-".concat(n),"aria-labelledby":"simple-tab-".concat(n)},a===n&&r.a.createElement(y.a,{p:3},t))}function sc(e){var t=e.classes,a=e.request,c=e.error,i=e.success,l=e.loading,o=e.onAccept,s=e.validationSchema,m=e.onSubmit,d=r.a.useState(0),E=Object(x.a)(d,2),p=E[0],f=E[1],S=Object(n.useState)(!1),I=Object(x.a)(S,2),N=I[0],A=I[1],T=Object(n.useState)(!1),R=Object(x.a)(T,2),O=R[0],M=R[1],C=function(){return A(!1)},k=function(){return M(!1)};return void 0===a.User?r.a.createElement(g,null):r.a.createElement(w,{visible:l},r.a.createElement(h.a,{className:t.root,container:!0,spacing:0,direction:"column",alignItems:"center",justify:"center",style:{minHeight:"100vh"}},r.a.createElement(U,{success:i,error:c}),r.a.createElement(Tr.a,{className:t.card},r.a.createElement(v.a,{position:"static",color:"primary"},r.a.createElement(rc.a,{value:p,onChange:function(e,t){f(t)}},r.a.createElement(cc.a,{label:"Basic Information"}),r.a.createElement(cc.a,{label:"Requested Items"}))),r.a.createElement(oc,{value:p,index:0},r.a.createElement(lc,{title:"".concat(a.User.firstName," ").concat(a.User.lastName),subtitle:"Requested by",icon:r.a.createElement(b.E,null)}),r.a.createElement(lc,{title:a.User.email,subtitle:"Email Address",icon:r.a.createElement(b.v,null)}),r.a.createElement(lc,{title:a.Lab.title,subtitle:"Requested from Lab",icon:r.a.createElement(b.s,null)}),r.a.createElement(lc,{title:ia()(a.createdAt).fromNow(),subtitle:"Requested on",icon:r.a.createElement(b.f,null)}),r.a.createElement(lc,{title:a.reason,subtitle:"Reason",icon:r.a.createElement(b.w,null)})),r.a.createElement(oc,{value:p,index:1},a.RequestItems.map((function(e){return r.a.createElement(lc,{key:e.itemId,title:e.Item.ItemSet.title,subtitle:e.Item.serialNumber,icon:e.Item.ItemSet.image?r.a.createElement(u.Image,{publicId:e.Item.ItemSet.image,className:t.image}):r.a.createElement(b.s,null)})}))),r.a.createElement(vt.a,{className:t.margin}),"REQUESTED"===a.status&&r.a.createElement(h.a,{item:!0,container:!0,direction:"row",justify:"center"},r.a.createElement(_.a,{title:"Accept the requested items"},r.a.createElement(Et.a,{className:t.margin,variant:"contained",color:"primary",onClick:function(){return M(!0)}},"Accept")),r.a.createElement(y.a,{mx:1}),r.a.createElement(_.a,{title:"Reject the requested items"},r.a.createElement(Et.a,{className:t.margin,variant:"contained",color:"secondary",onClick:function(){return A(!0)}},"Reject"))),"DECLINED"===a.status&&r.a.createElement(h.a,{item:!0,container:!0,direction:"row",justify:"center"},r.a.createElement(y.a,{my:2},r.a.createElement(Et.a,{variant:"outlined",color:"secondary",onClick:function(){}},"You already declined the request.",r.a.createElement("br",null),"Reason:\xa0",a.declineReason))),"ACCEPTED"===a.status&&r.a.createElement(h.a,{item:!0,container:!0,direction:"row",justify:"center"},r.a.createElement(y.a,{my:2},r.a.createElement(Et.a,{variant:"outlined",color:"primary",onClick:function(){}},"You already accepted the request."))))),r.a.createElement(bt.a,{open:N,onClose:C},r.a.createElement(It.a,null,"Decline Request?"),r.a.createElement(na.a,null,r.a.createElement(ra.a,null,"Do you really want to decline this request. Please mention the reason to reject the request.",r.a.createElement("br",null),"This action cannot be undone.",r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(jt.d,{initialValues:{reason:""},validationSchema:s,onSubmit:m},(function(e){var a=e.submitForm,n=e.isSubmitting;return r.a.createElement(jt.c,null,r.a.createElement(h.a,{className:t.item,item:!0},r.a.createElement(jt.a,{component:Dt.d,required:!0,label:"Enter The Reason",name:"reason",variant:"outlined",type:"text",placeholder:"Need it for next practical",fullWidth:!0})),r.a.createElement("br",null),r.a.createElement(h.a,{item:!0},r.a.createElement(y.a,{textAlign:"right"},r.a.createElement(Et.a,{color:"primary",disabled:n,onClick:function(){a(),C()}},"Confirm"),r.a.createElement(Et.a,{onClick:C,color:"primary"},"Cancel"))))}))))),r.a.createElement(bt.a,{open:O,onClose:k},r.a.createElement(It.a,null,"Accept Request?"),r.a.createElement(na.a,null,r.a.createElement(ra.a,null,"Do you really want to accept this request. The student will be able to retrieve items with approval from lab manager.",r.a.createElement("br",null),"This action cannot be undone.",r.a.createElement("br",null),r.a.createElement("br",null))),r.a.createElement(yt.a,null,r.a.createElement(Et.a,{onClick:function(){o(),k()},color:"primary",autoFocus:!0},"Yes"),r.a.createElement(Et.a,{onClick:k,color:"primary"},"No"))))}lc.defaultProps={subtitle:null},sc.defaultProps={error:null,success:null};var uc=Object(p.a)(ic)(sc),mc=function(e){return{type:"SUPERVISOR_ITEM_MANAGEMENT_SYNC_iTEM_SUCCESS",payload:{items:e}}},dc=function(e){return{type:"SUPERVISOR_ITEM_MANAGEMENT_SYNC_iTEM_FAILURE",payload:{error:e}}},Ec=Oe.e().shape({id:Oe.g().required(),reason:Oe.g().required(),User:Oe.e().shape({email:Oe.g().required()}).required(),Lab:Oe.e().shape({title:Oe.g().required()}).required()});function pc(e){return function(){var t=Object(ye.a)(Ae.a.mark((function t(a){var n,r,c;return Ae.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=function(e){try{var t=Ec.validateSync(e.data);a(mc(t))}catch(n){a(dc("Server connection failed. Please check your connection."))}},n=function(e){var t;e&&(t=e.data.message),t||(t="Server connection failed"),a(dc(t))},a({type:"SUPERVISOR_ITEM_MANAGEMENT_SYNC_ITEMSETS_BEGIN"}),t.prev=3,t.next=6,Re.a.get("".concat(Ce).concat("/api/requestitems","/").concat(e),{});case 6:c=t.sent,r(c),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(3),n(t.t0.response);case 13:case"end":return t.stop()}}),t,null,[[3,10]])})));return function(e){return t.apply(this,arguments)}}()}var fc=function(e){return{type:"SUPERVISOR_ITEM_MANAGEMENT_ACCEPT_REQUEST_SUCCESS",payload:{success:e}}},gc=function(e){return{type:"SUPERVISOR_ITEM_MANAGEMENT_ACCEPT_REQUEST_FAILURE",payload:{error:e}}};var Sc=function(e){return{type:"SUPERVISOR_ITEM_MANAGEMENT_REJECT_REQUEST_SUCCESS",payload:{success:e}}},bc=function(e){return{type:"SUPERVISOR_ITEM_MANAGEMENT_REJECT_REQUEST_FAILURE",payload:{error:e}}};var Ic=function(){var e=Object(o.c)(),t=Object(o.d)((function(e){return Object(S.a)({},e.supervisorItemManagement)})),a=t.syncedItem,c=t.itemsSyncLoading,i=t.itemsSyncSuccess,l=t.itemsSyncError,s=t.acceptRequestLoading,u=t.acceptRequestSuccess,m=t.acceptRequestError,d=t.rejectRequestLoading,p=t.rejectRequestSuccess,f=t.rejectRequestError,g=Object(E.g)().requestToken,b=Oe.e().shape({reason:Oe.g().required("Required")});return Object(n.useEffect)((function(){c||i||l||e(pc(g))}),[e,g,c,i,l]),r.a.createElement(uc,{loading:c||s||d,request:a,error:l||m||f,onAccept:function(){e(function(e,t,a){return function(){var n=Object(ye.a)(Ae.a.mark((function n(r){var c,i;return Ae.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return i=function(){try{r(fc("Successfully accepted the request")),r(pc(e))}catch(t){r(gc("Server connection failed. Please check your connection."))}},c=function(e){var t;e&&(t=e.data.message),t||(t="Server connection failed"),r(gc(t))},r({type:"SUPERVISOR_ITEM_MANAGEMENT_ACCEPT_REQUEST_BEGIN"}),n.prev=3,n.next=6,Re.a.post("".concat(Ce).concat("/api/requestitems/review"),{token:e,value:t,declineReason:a});case 6:if(200===n.sent.status){n.next=9;break}throw Error("Server responded with an error");case 9:i(),n.next=15;break;case 12:n.prev=12,n.t0=n.catch(3),c(n.t0.response);case 15:case"end":return n.stop()}}),n,null,[[3,12]])})));return function(e){return n.apply(this,arguments)}}()}(g,!0,null))},validationSchema:b,onSubmit:function(t,a){var n=a.setSubmitting;e(function(e,t,a,n){return function(){var r=Object(ye.a)(Ae.a.mark((function r(c){var i,l;return Ae.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return l=function(){try{c(Sc("Successfully rejected the request")),c(pc(e))}catch(t){c(bc("Server connection failed. Please check your connection."))}},i=function(e){var t;e&&(t=e.data.message),t||(t="Server connection failed"),c(bc(t))},c({type:"SUPERVISOR_ITEM_MANAGEMENT_REJECT_REQUEST_BEGIN"}),r.prev=3,r.next=6,Re.a.post("".concat(Ce).concat("/api/requestitems/review"),{token:e,value:t,declineReason:a});case 6:if(200===r.sent.status){r.next=9;break}throw Error("Server responded with an error");case 9:l(),n(),r.next=17;break;case 13:r.prev=13,r.t0=r.catch(3),i(r.t0.response),n();case 17:case"end":return r.stop()}}),r,null,[[3,13]])})));return function(e){return r.apply(this,arguments)}}()}(g,!1,t.reason,(function(){n(!1)})))},success:u||p})};function vc(e){var t=e.children,a=Object(m.a)(e,["children"]),n=Object(o.d)((function(e){return null!=e.auth.user}));return r.a.createElement(E.b,Object.assign({},a,{render:function(e){return n?t:r.a.createElement(E.a,{to:{pathname:"/login",state:{from:e.location}}})}}))}function Nc(e){var t=e.url;return Object(n.useEffect)((function(){window.location.href=t}),[t]),r.a.createElement("div",null)}var hc=function(){return r.a.createElement(d.a,null,r.a.createElement(E.d,null,r.a.createElement(E.b,{exact:!0,path:"/login"},r.a.createElement(wr,null)),r.a.createElement(E.b,{exact:!0,path:"/register/:registrationToken"},r.a.createElement(Ur,null)),r.a.createElement(E.b,{path:"/superadmin"},r.a.createElement(Nc,{url:"".concat(Ce,"/admin")})),r.a.createElement(vc,{path:"/admin"},r.a.createElement(yr,null)),r.a.createElement(E.b,{exact:!0,path:"/"},r.a.createElement(nc,null)),r.a.createElement(E.b,{exact:!0,path:"/supervisor/:requestToken"},r.a.createElement(Ic,null)),r.a.createElement(E.b,null,r.a.createElement(g,null))))},_c=a(270),Ac=Object(_c.a)({palette:{primary:{light:"#59C9A5",main:"#23395B",dark:"#03193B"},secondary:{light:"#FFFD98",main:"#D81E5B",dark:"#B80E3B"}},typography:{h5:{fontWeight:500,fontSize:26,letterSpacing:.5}},shape:{borderRadius:8},props:{MuiTab:{disableRipple:!0}},mixins:{toolbar:{minHeight:48}}}),yc=Object(S.a)(Object(S.a)({},Ac),{},{overrides:{MuiDrawer:{paper:{backgroundColor:"#1c2d48"}},MuiButton:{label:{textTransform:"none"},contained:{boxShadow:"none","&:active":{boxShadow:"none"}}},MuiTabs:{root:{marginLeft:Ac.spacing(1)},indicator:{height:3,borderTopLeftRadius:3,borderTopRightRadius:3,backgroundColor:Ac.palette.common.white}},MuiTab:{root:Object(Ar.a)({textTransform:"none",margin:"0 16px",minWidth:0,padding:0},Ac.breakpoints.up("md"),{padding:0,minWidth:0})},MuiIconButton:{root:{padding:Ac.spacing(1)}},MuiTooltip:{tooltip:{borderRadius:4}},MuiDivider:{root:{backgroundColor:"#404854"}},MuiListItemText:{primary:{fontWeight:Ac.typography.fontWeightMedium}},MuiListItemIcon:{root:{color:"inherit",marginRight:0,"& svg":{fontSize:20}}},MuiAvatar:{root:{width:32,height:32}}}}),Tc=a(70),Rc=a(540),Oc=a(46),Mc={token:null,user:null,signIn:{loading:!1,error:null},signUp:{requestingInvitation:!1,loading:!1,error:null,invitationOwner:null,invitationActivated:!1}},Cc=Object(Oc.b)((function(e,t){var a=t.type,n=t.payload;if(!e)return Mc;switch(a){case"SIGN_IN_BEGIN":return e.token=null,e.user=null,e.signIn.loading=!0,e.signIn.error=null,e;case"SIGN_IN_SUCCESS":return e.token=n.token,e.user=n.user,e.signIn.loading=!1,e;case"SIGN_IN_FAILURE":return e.signIn.loading=!1,e.signIn.error=n.error,e;case"AUTH_SIGN_OUT":return e.token=null,e.user=null,e.signIn.loading=!1,e.signIn.error=null,e;case"AUTH_REQUEST_INVITATION_BEGIN":return e.signUp.invitationOwner=null,e.signUp.requestingInvitation=!0,e.signUp.error=null,e;case"AUTH_REQUEST_INVITATION_SUCCESS":return e.signUp.invitationOwner=n,e.signUp.requestingInvitation=!1,e;case"AUTH_REQUEST_INVITATION_FAILURE":return e.signUp.requestingInvitation=!1,e.signUp.error=n.error,e;case"AUTH_SIGN_UP_BEGIN":return e.signUp.loading=!0,e.signUp.error=null,e.signUp.invitationActivated=!1,e;case"AUTH_SIGN_UP_SUCCESS":return e.signUp.loading=!1,e.signUp.invitationActivated=!0,e;case"AUTH_SIGN_UP_FAILURE":return e.signUp.loading=!1,e.signUp.error=n.error,e;case"AUTH_INVITATION_REDIRECTED":return e.signUp.invitationActivated=!1,e;default:return e}})),kc={tokens:[],roles:[],rolesSyncLoading:!1,rolesSyncError:null,rolesSyncSuccess:!1,inviteLoading:!1,inviteError:null,inviteSuccess:null,tokenSyncLoading:!1,tokenSyncError:null,tokenSyncSuccess:!1,retractLoading:!1,retractError:null,retractSuccess:null},wc=Object(Oc.b)((function(e,t){var a=t.type,n=t.payload;if(!e)return kc;switch(a){case"ADMIN_REGISTRATION_SYNC_ROLES_BEGIN":return e.roles=[],e.rolesSyncLoading=!0,e.rolesSyncSuccess=!1,e.rolesSyncError=null,e;case"ADMIN_REGISTRATION_SYNC_ROLES_SUCCESS":return e.rolesSyncLoading=!1,e.rolesSyncSuccess=!0,e.roles=n.roles,e;case"ADMIN_REGISTRATION_SYNC_ROLES_FAILURE":return e.rolesSyncLoading=!1,e.rolesSyncError=n.error,e;case"ADMIN_REGISTRATION_INVITE_BEGIN":return e.inviteLoading=!0,e.inviteError=null,e.inviteSuccess=null,e;case"ADMIN_REGISTRATION_INVITE_SUCCESS":return e.inviteLoading=!1,e.inviteSuccess=n.success,e;case"ADMIN_REGISTRATION_INVITE_FAILURE":return e.inviteLoading=!1,e.inviteError=n.error,e;case"ADMIN_REGISTRATION_SYNC_TOKENS_BEGIN":return e.tokens=[],e.tokenSyncLoading=!0,e.tokenSyncSuccess=!1,e.tokenSyncError=null,e;case"ADMIN_REGISTRATION_SYNC_TOKENS_SUCCESS":return e.tokens=n.tokens,e.tokenSyncLoading=!1,e.tokenSyncSuccess=!0,e;case"ADMIN_REGISTRATION_SYNC_TOKENS_FAILURE":return e.tokenSyncLoading=!1,e.tokenSyncError=n.error,e;case"ADMIN_REGISTRATION_RETRACTION_BEGIN":return e.retractLoading=!0,e.retractSuccess=null,e.retractError=null,e;case"ADMIN_REGISTRATION_RETRACTION_SUCCESS":return e.retractLoading=!1,e.retractSuccess=n.success,e;case"ADMIN_REGISTRATION_RETRACTION_FAILURE":return e.retractLoading=!1,e.retractError=n.error,e;default:return e}})),xc={permissions:[],roles:[],users:[],supervisors:[],permissionsSyncLoading:!1,permissionsSyncError:null,permissionsSyncSuccess:!1,roleCreateLoading:!1,roleCreateError:null,roleCreateSuccess:null,rolesSyncError:null,rolesSyncLoading:!1,rolesSyncSuccess:!1,roleDeleteError:null,roleDeleteLoading:!1,roleDeleteSuccess:null,supervisorCreateLoading:!1,supervisorCreateError:null,supervisorCreateSuccess:null,supervisorsSyncError:null,supervisorsSyncLoading:!1,supervisorsSyncSuccess:!1,supervisorDeleteError:null,supervisorDeleteLoading:!1,supervisorDeleteSuccess:null,usersSyncError:null,usersSyncLoading:!1,usersSyncSuccess:!1},Lc=Object(Oc.b)((function(e,t){var a=t.type,n=t.payload;if(!e)return xc;switch(a){case"ADMIN_ADMINISTRATION_SYNC_PERMISSIONS_BEGIN":return e.permissions=[],e.permissionsSyncLoading=!0,e.permissionsSyncSuccess=!1,e.permissionsSyncError=null,e;case"ADMIN_ADMINISTRATION_SYNC_PERMISSIONS_SUCCESS":return e.permissions=n.permissions,e.permissionsSyncLoading=!1,e.permissionsSyncSuccess=!0,e;case"ADMIN_ADMINISTRATION_SYNC_PERMISSIONS_FAILURE":return e.permissionsSyncLoading=!1,e.permissionsSyncError=n.error,e;case"ADMIN_ADMINISTRATION_CREATE_ROLES_BEGIN":return e.roleCreateLoading=!0,e.roleCreateSuccess=null,e.roleCreateError=null,e;case"ADMIN_ADMINISTRATION_CREATE_ROLES_SUCCESS":return e.roleCreateLoading=!1,e.roleCreateSuccess=n.success,e;case"ADMIN_ADMINISTRATION_CREATE_ROLES_FAILURE":return e.roleCreateLoading=!1,e.roleCreateError=n.error,e;case"ADMIN_ADMINISTRATION_CREATE_SUPERVISOR_BEGIN":return e.supervisorCreateLoading=!0,e.supervisorCreateSuccess=null,e.supervisorCreateError=null,e;case"ADMIN_ADMINISTRATION_CREATE_SUPERVISOR_SUCCESS":return e.supervisorCreateLoading=!1,e.supervisorCreateSuccess=n.success,e;case"ADMIN_ADMINISTRATION_CREATE_SUPERVISOR_FAILURE":return e.supervisorCreateLoading=!1,e.supervisorCreateError=n.error,e;case"ADMIN_ADMINISTRATION_SYNC_SUPERVISORS_BEGIN":return e.supervisors=[],e.supervisorsSyncLoading=!0,e.supervisorsSyncSuccess=!1,e.supervisorsSyncError=null,e;case"ADMIN_ADMINISTRATION_SYNC_SUPERVISORS_SUCCESS":return e.supervisors=n.supervisors,e.supervisorsSyncLoading=!1,e.supervisorsSyncSuccess=!0,e;case"ADMIN_ADMINISTRATION_SYNC_SUPERVISORS_FAILURE":return e.supervisorsSyncLoading=!1,e.supervisorsSyncError=n.error,e;case"ADMIN_ADMINISTRATION_DELETE_SUPERVISOR_BEGIN":return e.supervisorDeleteLoading=!0,e.supervisorDeleteSuccess=null,e.supervisorDeleteError=null,e;case"ADMIN_ADMINISTRATION_DELETE_SUPERVISOR_SUCCESS":return e.supervisorDeleteLoading=!1,e.supervisorDeleteSuccess=n.success,e;case"ADMIN_ADMINISTRATION_DELETE_SUPERVISOR_FAILURE":return e.supervisorDeleteLoading=!1,e.supervisorDeleteError=n.error,e;case"ADMIN_ADMINISTRATION_SYNC_ROLES_BEGIN":return e.roles=[],e.rolesSyncLoading=!0,e.rolesSyncSuccess=!1,e.rolesSyncError=null,e;case"ADMIN_ADMINISTRATION_SYNC_ROLES_SUCCESS":return e.roles=n.roles,e.rolesSyncLoading=!1,e.rolesSyncSuccess=!0,e;case"ADMIN_ADMINISTRATION_SYNC_ROLES_FAILURE":return e.rolesSyncLoading=!1,e.rolesSyncError=n.error,e;case"ADMIN_ADMINISTRATION_DELETE_ROLE_BEGIN":return e.roleDeleteLoading=!0,e.roleDeleteSuccess=null,e.roleDeleteError=null,e;case"ADMIN_ADMINISTRATION_DELETE_ROLE_SUCCESS":return e.roleDeleteLoading=!1,e.roleDeleteSuccess=n.success,e;case"ADMIN_ADMINISTRATION_DELETE_ROLE_FAILURE":return e.roleDeleteLoading=!1,e.roleDeleteError=n.error,e;case"ADMIN_ADMINISTRATION_SYNC_USERS_BEGIN":return e.users=[],e.usersSyncLoading=!0,e.usersSyncSuccess=!1,e.usersSyncError=null,e;case"ADMIN_ADMINISTRATION_SYNC_USERS_SUCCESS":return e.users=n.users,e.usersSyncLoading=!1,e.usersSyncSuccess=!0,e;case"ADMIN_ADMINISTRATION_SYNC_USERS_FAILURE":return e.usersSyncLoading=!1,e.usersSyncError=n.error,e;default:return e}})),jc={attributes:[],itemsets:[],syncedItemsets:[],createItemsetError:null,createItemsetLoading:!1,createItemsetSuccess:null,itemSetsSyncLoading:!1,itemSetsSyncSuccess:null,itemSetsSyncError:null,items:[],syncedItems:[],createItemError:null,createItemLoading:!1,createItemSuccess:null,itemsSyncLoading:!1,itemsSyncSuccess:null,itemsSyncError:null,syncedLentItems:[],lentItemsSyncLoading:!1,lentItemsSyncSuccess:null,lentItemsSyncError:null,syncedItemRequests:[],itemRequestsSyncloading:!1,itemRequestsSyncSuccess:null,itemRequestsSyncError:null,itemBorrowLoading:!1,itemBorrowSuccess:null,itemBorrowFailure:null},Dc=Object(Oc.b)((function(e,t){var a=t.type,n=t.payload;if(!e)return jc;switch(a){case"ADMIN_ITEM_MANAGEMENT_CREATE_ITEMSET_BEGIN":return e.createItemsetSuccess=null,e.createItemsetError=null,e.createItemsetLoading=!0,e;case"ADMIN_ITEM_MANAGEMENT_CREATE_ITEMSET_SUCCESS":return e.createItemsetLoading=!1,e.createItemsetSuccess=n.success,e;case"ADMIN_ITEM_MANAGEMENT_CREATE_ITEMSET_FAILURE":return e.createItemsetLoading=!1,e.createItemsetError=n.error,e;case"ADMIN_ITEM_MANAGEMENT_SYNC_ITEMSETS_BEGIN":return e.syncedItemsets=[],e.itemSetsSyncLoading=!0,e.itemSetsSyncSuccess=!1,e.itemSetsSyncError=null,e;case"ADMIN_ITEM_MANAGEMENT_SYNC_ITEMSETS_SUCCESS":return e.syncedItemsets=n.itemsets,e.itemSetsSyncLoading=!1,e.itemSetsSyncSuccess=!0,e;case"ADMIN_ITEM_MANAGEMENT_SYNC_ITEMSETS_FAILURE":return e.itemSetsSyncLoading=!1,e.itemSetsSyncError=n.error,e;case"ADMIN_ITEM_MANAGEMENT_CREATE_ITEM_BEGIN":return e.createItemSuccess=null,e.createItemError=null,e.createItemLoading=!0,e;case"ADMIN_ITEM_MANAGEMENT_CREATE_ITEM_SUCCESS":return e.createItemLoading=!1,e.createItemSuccess=n.success,e;case"ADMIN_ITEM_MANAGEMENT_CREATE_ITEM_FAILURE":return e.createItemLoading=!1,e.createItemError=n.error,e;case"ADMIN_ITEM_MANAGEMENT_SYNC_ITEMS_BEGIN":return e.syncedItems=[],e.itemsSyncLoading=!0,e.itemsSyncSuccess=!1,e.itemsSyncError=null,e;case"ADMIN_ITEM_MANAGEMENT_SYNC_ITEMS_SUCCESS":return e.syncedItems=n.items,e.itemsSyncLoading=!1,e.itemsSyncSuccess=!0,e;case"ADMIN_ITEM_MANAGEMENT_SYNC_ITEMS_FAILURE":return e.itemsSyncLoading=!1,e.itemsSyncError=n.error,e;case"ADMIN_ITEM_MANAGEMENT_SYNC_LENT_ITEMS_BEGIN":return e.lentItemsSyncLoading=!0,e.lentItemsSyncSuccess=!1,e.lentItemsSyncError=null,e;case"ADMIN_ITEM_MANAGEMENT_SYNC_LENT_ITEMS_SUCCESS":return e.syncedLentItems=n.lentItems,e.lentItemsSyncLoading=!1,e.lentItemsSyncSuccess=!0,e;case"ADMIN_ITEM_MANAGEMENT_SYNC_LENT_ITEMS_FAILURE":return e.lentItemsSyncLoading=!1,e.lentItemsSyncError=n.error,e;case"ADMIN_ITEM_MANAGEMENT_SYNC_ITEM_REQUESTS_LOADING":return e.itemRequestsSyncloading=!0,e.itemRequestsSyncSuccess=!1,e.itemRequestsSyncError=null,e;case"ADMIN_ITEM_MANAGEMENT_SYNC_ITEM_REQUESTS_SUCCESS":return e.syncedItemRequests=n.itemRequests,e.itemRequestsSyncloading=!1,e.itemRequestsSyncSuccess=!0,e;case"ADMIN_ITEM_MANAGEMENT_SYNC_ITEM_REQUESTS_FAILURE":return e.itemRequestsSyncloading=!1,e.itemRequestsSyncError=n.error,e;case"ADMIN_ITEM_MANAGEMENT_BORROW_ITEM_BEGIN":return e.itemBorrowLoading=!0,e.itemBorrowSuccess=null,e;case"ADMIN_ITEM_MANAGEMENT_BORROW_ITEM_SUCCESS":return e.itemBorrowLoading=!1,e.itemBorrowSuccess=n.success,e;case"ADMIN_ITEM_MANAGEMENT_BORROW_ITEM_FAILURE":return e.itemBorrowLoading=!1,e.itemBorrowFailure=n.error,e;default:return e}})),Uc={labs:[],managers:[],labCreationLoading:!1,labCreationError:null,labCreationSuccess:null,labsSyncLoading:!1,labsSyncError:null,labsSyncSuccess:null,managersSyncLoading:!1,managersSyncError:null,managersSyncSuccess:null,labAssignLoading:!1,labAssignError:null,labAssignSuccess:null,labUnAssignLoading:!1,labUnAssignError:null,labUnAssignSuccess:null},qc=Object(Oc.b)((function(e,t){var a=t.type,n=t.payload;if(!e)return Uc;switch(a){case"ADMIN_ADMINISTRATION_CREATE_LAB_BEGIN":return e.labCreationLoading=!0,e.labCreationError=null,e.labCreationSuccess=null,e;case"ADMIN_ADMINISTRATION_CREATE_LAB_SUCCESS":return e.labCreationLoading=!1,e.labCreationSuccess=n.success,e;case"ADMIN_ADMINISTRATION_CREATE_LAB_FAILURE":return e.labCreationLoading=!1,e.labCreationError=n.error,e;case"ADMIN_LAB_MANAGEMENT_SYNC_LABS_BEGIN":return e.labs=[],e.labsSyncLoading=!0,e.labsSyncSuccess=!1,e.labsSyncError=null,e;case"ADMIN_LAB_MANAGEMENT_SYNC_LABS_SUCCESS":return e.labs=n.labs,e.labsSyncLoading=!1,e.labsSyncSuccess=!0,e;case"ADMIN_LAB_MANAGEMENT_SYNC_LABS_FAILURE":return e.labsSyncLoading=!1,e.labsSyncError=n.error,e;case"ADMIN_LAB_MANAGEMENT_SYNC_MANAGERS_BEGIN":return e.managers=[],e.managersSyncLoading=!0,e.managersSyncSuccess=!1,e.managersSyncError=null,e;case"ADMIN_LAB_MANAGEMENT_SYNC_MANAGERS_SUCCESS":return e.managers=n.managers,e.managersSyncLoading=!1,e.managersSyncSuccess=!0,e;case"ADMIN_LAB_MANAGEMENT_SYNC_MANAGERS_FAILURE":return e.managersSyncLoading=!1,e.managersSyncError=n.error,e;case"ADMIN_LAB_MANAGEMENT_ASSIGN_STAFF_BEGIN":return e.labAssignLoading=!0,e.labUnAssignError=null,e.labUnAssignSuccess=null,e.labAssignError=null,e.labAssignSuccess=null,e;case"ADMIN_LAB_MANAGEMENT_ASSIGN_STAFF_SUCCESS":return e.labAssignLoading=!1,e.labAssignSuccess=n.success,e;case"ADMIN_LAB_MANAGEMENT_ASSIGN_STAFF_FAILURE":return e.labAssignLoading=!1,e.labAssignError=n.error,e;case"ADMIN_LAB_MANAGEMENT_UNASSIGN_STAFF_BEGIN":return e.labUnAssignLoading=!0,e.labUnAssignError=null,e.labUnAssignSuccess=null,e.labAssignError=null,e.labAssignSuccess=null,e;case"ADMIN_LAB_MANAGEMENT_UNASSIGN_STAFF_SUCCESS":return e.labUnAssignLoading=!1,e.labUnAssignSuccess=n.success,e;case"ADMIN_LAB_MANAGEMENT_UNASSIGN_STAFF_FAILURE":return e.labUnAssignLoading=!1,e.labUnAssignError=n.error,e;default:return e}})),Gc={syncedItem:{},itemsSyncLoading:!1,itemsSyncSuccess:null,itemsSyncError:null,acceptRequestLoading:!1,acceptRequestSuccess:null,acceptRequestError:null,rejectRequestLoading:!1,rejectRequestSuccess:null,rejectRequestError:null},Bc=Object(Oc.b)((function(e,t){var a=t.type,n=t.payload;if(!e)return Gc;switch(a){case"SUPERVISOR_ITEM_MANAGEMENT_SYNC_ITEMSETS_BEGIN":return e.syncedItem={},e.itemsSyncSuccess=null,e.itemsSyncError=null,e.itemsSyncLoading=!0,e;case"SUPERVISOR_ITEM_MANAGEMENT_SYNC_iTEM_SUCCESS":return e.syncedItem=n.items,e.itemsSyncLoading=!1,e.itemsSyncSuccess=!0,e;case"SUPERVISOR_ITEM_MANAGEMENT_SYNC_iTEM_FAILURE":return e.itemsSyncLoading=!1,e.itemsSyncError=n.error,e;case"SUPERVISOR_ITEM_MANAGEMENT_ACCEPT_REQUEST_BEGIN":return e.acceptRequestLoading=!0,e.acceptRequestSuccess=null,e.acceptRequestError=null,e;case"SUPERVISOR_ITEM_MANAGEMENT_ACCEPT_REQUEST_SUCCESS":return e.acceptRequestLoading=!1,e.acceptRequestSuccess=n.success,e;case"SUPERVISOR_ITEM_MANAGEMENT_ACCEPT_REQUEST_FAILURE":return e.acceptRequestLoading=!1,e.acceptRequestSuccess=null,e.acceptRequestError=n.error,e;case"SUPERVISOR_ITEM_MANAGEMENT_REJECT_REQUEST_BEGIN":return e.rejectRequestLoading=!0,e.rejectRequestSuccess=null,e.rejectRequestError=null,e;case"SUPERVISOR_ITEM_MANAGEMENT_REJECT_REQUEST_SUCCESS":return e.rejectRequestLoading=!1,e.rejectRequestSuccess=n.success,e;case"SUPERVISOR_ITEM_MANAGEMENT_REJECT_REQUEST_FAILURE":return e.rejectRequestLoading=!1,e.acceptRequestSuccess=null,e.rejectRequestError=n.error,e;default:return e}})),Fc={lastEvent:null,showOverlay:!1,connectionMessage:null,connected:!1},Pc=Object(Oc.b)((function(e,t){var a=t.type,n=t.payload;if(!e)return Fc;switch(a){case"SOCKET_START_BEGIN":return e.lastEvent=null,e.showOverlay=!0,e.connected=!1,e;case"SOCKET_START_ON_CONNECT":return e.connected=!0,e;case"SOCKET_START_ON_DISCONNECT":return e.connected=!1,e.lastEvent=null,e.showOverlay=!1,e;case"SOCKET_START_ON_DEVICE_MESSAGE":return e.lastEvent=n,e;default:return e}})),Vc=Object(Tc.c)({auth:Cc,adminRegistration:wc,adminAdministration:Lc,adminLabManagement:qc,adminItemManagement:Dc,supervisorItemManagement:Bc,socket:Pc}),Yc=a(541),Wc=a.n(Yc),zc={auth:Mc},Hc=function(){function e(){Object(Er.a)(this,e)}return Object(pr.a)(e,null,[{key:"storeToDraft",value:function(e,t){return t.auth={},t.auth.token=e.auth.token,t.auth.user=e.auth.user,t}},{key:"loadToDraft",value:function(e,t){return t.auth.token=e.auth.token||zc.auth.token,t.auth.user=e.auth.user||zc.auth.token,t}},{key:"slicerFn",value:function(t){if(!t)return null;var a=Object(Oc.a)({}),n=e.storeToDraft(t,a);return Object(Oc.c)(n)}},{key:"merge",value:function(t,a){if(!a)return t;var n=Object(Oc.a)(zc),r=e.loadToDraft(a,n);return Object(Oc.c)(r)}},{key:"slicer",value:function(){return function(t){return e.slicerFn(t)}}}]),e}(),Qc={key:"state",slicer:Hc.slicer,merge:Hc.merge},Kc=Wc()(null,Qc),Jc=[Object(Tc.a)(Rc.a),Kc];window.__REDUX_DEVTOOLS_EXTENSION__&&Jc.push(window.__REDUX_DEVTOOLS_EXTENSION__());var Xc=Object(Tc.e)(Vc,Tc.d.apply(void 0,Jc));var Zc=function(){return r.a.createElement(o.a,{store:Xc},r.a.createElement(u.CloudinaryContext,{cloudName:"open-inventory-system"},r.a.createElement(s.a,{theme:yc},r.a.createElement(hc,null))))},$c=r.a.createElement(Zc);i.a.render($c,document.getElementById("root")),Object(l.a)().unregister()}},[[556,1,2]]]);
//# sourceMappingURL=main.fdf2a9ec.chunk.js.map